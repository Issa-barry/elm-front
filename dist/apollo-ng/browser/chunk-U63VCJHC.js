import{a as Ve,b as De}from"./chunk-GO5YAF3T.js";import{a as ke,b as Ee}from"./chunk-CVH73O44.js";import{a as Ae,b as Ne}from"./chunk-XDXU5A6L.js";import{a as Ie,b as Te}from"./chunk-R3EAI2YQ.js";import{a as H,b as G}from"./chunk-QFEFJCNI.js";import"./chunk-RLRCSE6J.js";import"./chunk-4NSD52R5.js";import{a as B}from"./chunk-4SCZYFYR.js";import{b as fe,d as T}from"./chunk-H5BNHAT7.js";import"./chunk-Q3QYWOBT.js";import{a as Se,b as Oe}from"./chunk-ZSMYH3SO.js";import{a as ye,d as Me,e as Pe,k as we}from"./chunk-566VITEB.js";import"./chunk-PFQBBUG2.js";import"./chunk-ZKOS3DIQ.js";import"./chunk-TF3WUBGP.js";import"./chunk-CIG3UH2L.js";import"./chunk-LKI2OA3Y.js";import{a as Ce,b as Re}from"./chunk-LLIVY2RR.js";import"./chunk-ACCAPG7B.js";import"./chunk-GQZMGDXE.js";import"./chunk-EMSXNTNI.js";import"./chunk-CAPWCZXM.js";import"./chunk-EJ36MVS3.js";import"./chunk-N7WUB32N.js";import"./chunk-4OYOH73G.js";import"./chunk-E7ZA2RP6.js";import"./chunk-NFFITYYI.js";import"./chunk-QKYHST3S.js";import"./chunk-26DLLJPL.js";import"./chunk-CKLQ5QYB.js";import"./chunk-LEXXM723.js";import{c as ge}from"./chunk-PR732LFS.js";import"./chunk-YPI3USWF.js";import{a as he,b as ve,c as xe,d as be}from"./chunk-E2A55PMK.js";import{a as U,b as L}from"./chunk-ROFMEOOL.js";import{b as N,e as V,h as D,p as F}from"./chunk-AQNIYYGH.js";import{a as j,b as z}from"./chunk-UEYH4F7Z.js";import"./chunk-YU5WWNZ3.js";import"./chunk-BODZH67C.js";import"./chunk-7UZYWCAJ.js";import{d as W,e as $}from"./chunk-FXG7SSDN.js";import"./chunk-C3BTHMVA.js";import"./chunk-D772OSYX.js";import"./chunk-N4GWINB2.js";import{la as A,pa as y}from"./chunk-DRU5BJUS.js";import{j as de,k as ue,q as _e,v as I}from"./chunk-3CNM3VZD.js";import"./chunk-4O3FVBGX.js";import{$ as d,$b as me,Gb as f,Kb as _,Lb as l,Ma as a,Pb as re,Qb as oe,R as ee,Rb as ne,Ub as se,V as te,Vb as ae,Wb as le,Xa as x,Xb as J,Zb as h,_b as M,aa as u,ab as k,cc as w,dc as S,ec as O,gb as v,gc as E,hc as R,ia as ie,l as Y,rc as pe,sc as ce,wb as p,wc as C,xb as s,yb as n,z as Z,zb as g}from"./chunk-U3BUAVLN.js";import"./chunk-GAL4ENT6.js";var Q=["create","read","update","delete"];var P=class o{constructor(t){this.http=t}apiUrl=`${B.apiUrl}/roles`;permissionsUrl=`${B.apiUrl}/permissions`;usersUrl=`${B.apiUrl}/users`;getRoles(){return this.http.get(this.apiUrl)}getRole(t){return this.http.get(`${this.apiUrl}/${t}`)}createRole(t){return this.http.post(this.apiUrl,t)}updateRole(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteRole(t){return this.http.delete(`${this.apiUrl}/${t}`)}updatePermissions(t,e){return this.http.put(`${this.apiUrl}/${t}/permissions`,e)}getPermissions(){return this.http.get(this.permissionsUrl).pipe(Z(t=>t?.status===404?this.http.get(`${this.apiUrl}/permissions`):Y(()=>t)))}assignRole(t,e){return this.http.post(`${this.apiUrl}/assign/${t}`,{role:e})}getUserRoles(t){return this.http.get(`${this.usersUrl}/${t}/roles`)}static \u0275fac=function(e){return new(e||o)(te(ge))};static \u0275prov=ee({token:o,factory:o.\u0275fac,providedIn:"root"})};var qe=["dt"],Ke=()=>["role.name"],Je=()=>({"min-width":"40rem"}),Xe=()=>[10,20,30],Le=()=>({width:"450px"});function Ye(o,t){if(o&1){let e=f();s(0,"p-button",13),_("onClick",function(){d(e);let r=l();return u(r.goToParametres())}),n()}o&2&&p("text",!0)("rounded",!0)}function Ze(o,t){if(o&1){let e=f();s(0,"p-button",14),_("onClick",function(){d(e);let r=l();return u(r.openCreateDialog())}),n()}}function et(o,t){if(o&1){let e=f();s(0,"div",15)(1,"h5",16),h(2,"Gestion des R\xF4les"),n(),s(3,"p-iconfield"),g(4,"p-inputicon",17),s(5,"input",18),_("input",function(r){d(e);let m=l(),c=se(8);return u(m.onGlobalFilter(c,r))}),n()()()}}function tt(o,t){o&1&&(s(0,"tr")(1,"th",19)(2,"span",20),h(3,"Nom "),g(4,"p-sortIcon",21),n()(),s(5,"th",22)(6,"span",23),h(7,"Permissions"),n()(),s(8,"th",24)(9,"span",20),h(10,"Date de cr\xE9ation "),g(11,"p-sortIcon",25),n()(),g(12,"th",26),n())}function it(o,t){if(o&1){let e=f();s(0,"tr",27),_("dblclick",function(){let r=d(e).$implicit,m=l();return u(m.editRole(r))}),s(1,"td")(2,"div",28)(3,"span",29),g(4,"i",30),n(),s(5,"span",31),h(6),n()()(),s(7,"td",22),g(8,"p-tag",32),n(),s(9,"td",33),h(10),n(),s(11,"td",22)(12,"p-button",34),_("click",function(r){let m=d(e).$implicit;return l().deleteRole(m),u(r.stopPropagation())}),n(),s(13,"p-button",35),_("click",function(){let r=d(e).$implicit,m=l();return u(m.editRole(r))}),n()()()}if(o&2){let e=t.$implicit,i=l();a(3),ae("background","var(--p-primary-50)")("color","var(--p-primary-600)"),a(3),M(e.role.name),a(2),p("value",i.countPermissions(e)+" permissions"),a(2),M(i.formatDate(e.role.created_at)),a(2),p("text",!0)("rounded",!0),a(),p("text",!0)("rounded",!0)}}function rt(o,t){o&1&&(s(0,"tr")(1,"td",36)(2,"div",37),g(3,"i",30),s(4,"span"),h(5,"Aucun r\xF4le trouv\xE9"),n()()()())}function ot(o,t){if(o&1){let e=f();s(0,"div",38)(1,"div")(2,"label",39),h(3,"Nom du r\xF4le"),n(),s(4,"input",40),O("ngModelChange",function(r){d(e);let m=l();return S(m.newRoleName,r)||(m.newRoleName=r),u(r)}),_("keydown.enter",function(){d(e);let r=l();return u(r.createRole())}),n()()()}if(o&2){let e=l();a(4),w("ngModel",e.newRoleName)}}function nt(o,t){if(o&1){let e=f();s(0,"p-button",41),_("click",function(){d(e);let r=l();return u(r.createDialog=!1)}),n(),s(1,"p-button",42),_("click",function(){d(e);let r=l();return u(r.createRole())}),n()}if(o&2){let e=l();p("text",!0)("disabled",e.creating),a(),p("disabled",e.creating||!e.newRoleName.trim())("loading",e.creating)}}var q=class o{constructor(t,e,i,r){this.roleService=t;this.messageService=e;this.confirmationService=i;this.router=r}roles=ie([]);loading=!1;createDialog=!1;newRoleName="";creating=!1;dt;ngOnInit(){this.loadRoles()}loadRoles(){this.loading=!0,this.roleService.getRoles().subscribe({next:t=>{let e=t?.data,i=Array.isArray(e)?e:Array.isArray(e?.roles)?e.roles:Array.isArray(e?.data)?e.data:[];this.roles.set(i.map(r=>this.normalizeRoleItem(r))),this.loading=!1},error:t=>{this.messageService.add({severity:"error",summary:"Erreur",detail:t?.error?.message||"Impossible de charger les r\xF4les",life:5e3}),this.loading=!1}})}countPermissions(t){return t.modules.reduce((e,i)=>e+Q.filter(r=>i.permissions[r]).length,0)}normalizeRoleItem(t){if(t?.role&&Array.isArray(t?.modules))return t;let e={id:Number(t?.id??0),name:String(t?.name??""),created_at:String(t?.created_at??"")},i=Array.isArray(t?.permissions)?t.permissions.map(c=>typeof c=="string"?c:c?.name).filter(c=>typeof c=="string"&&c.includes(".")):[],r=new Map;i.forEach(c=>{let[b,X]=c.split(".");!b||!X||(r.has(b)||r.set(b,new Set),r.get(b)?.add(X))});let m=Array.from(r.entries()).map(([c,b])=>({module:c,permissions:{create:b.has("create"),read:b.has("read"),update:b.has("update"),delete:b.has("delete")}}));return{role:e,modules:m}}onGlobalFilter(t,e){t.filterGlobal(e.target.value,"contains")}openCreateDialog(){this.newRoleName="",this.createDialog=!0}goToParametres(){this.router.navigate(["/parametres"])}createRole(){!this.newRoleName.trim()||this.creating||(this.creating=!0,this.roleService.createRole({name:this.newRoleName.trim()}).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"R\xF4le cr\xE9\xE9 avec succ\xE8s",life:3e3}),this.createDialog=!1,this.creating=!1,this.loadRoles()},error:t=>{this.messageService.add({severity:"error",summary:"Erreur",detail:t?.error?.message||"Impossible de cr\xE9er le r\xF4le",life:5e3}),this.creating=!1}}))}editRole(t){this.router.navigate(["/roles/edit",t.role.id])}deleteRole(t){if(t.role.name==="admin"){this.messageService.add({severity:"warn",summary:"Attention",detail:"Le r\xF4le admin ne peut pas \xEAtre supprim\xE9",life:3e3});return}this.confirmationService.confirm({message:`\xCAtes-vous s\xFBr de vouloir supprimer le r\xF4le "${t.role.name}" ?`,header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.roleService.deleteRole(t.role.id).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"R\xF4le supprim\xE9",life:3e3}),this.loadRoles()},error:e=>{this.messageService.add({severity:"error",summary:"Erreur",detail:e?.error?.message||"Impossible de supprimer le r\xF4le",life:5e3})}})}})}formatDate(t){return t?new Date(t).toLocaleDateString("fr-FR"):""}static \u0275fac=function(e){return new(e||o)(x(P),x(y),x(A),x(T))};static \u0275cmp=k({type:o,selectors:[["app-roles-liste"]],viewQuery:function(e,i){if(e&1&&re(qe,5),e&2){let r;oe(r=ne())&&(i.dt=r.first)}},features:[E([y,A])],decls:23,vars:20,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],["emptymessage",""],["content",""],["footer",""],[1,"card"],["styleClass","mb-12"],["dataKey","role.id","currentPageReportTemplate","Affichage {first} \xE0 {last} sur {totalRecords} r\xF4les",3,"value","rows","paginator","globalFilterFields","tableStyle","rowHover","showCurrentPageReport","rowsPerPageOptions","loading"],["header","Nouveau r\xF4le",3,"visibleChange","visible","modal"],["icon","pi pi-arrow-left","severity","secondary","pTooltip","Retour param\xE9tres",3,"onClick","text","rounded"],["label","Ajouter un r\xF4le","icon","pi pi-plus","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Rechercher...",3,"input"],["pSortableColumn","role.name"],[1,"col-header"],["field","role.name"],[1,"text-center"],[1,"col-header","justify-center"],["pSortableColumn","role.created_at"],["field","role.created_at"],[1,"text-center",2,"width","8rem"],[1,"table-row",3,"dblclick"],[1,"cell-role"],[1,"cell-role__icon"],[1,"pi","pi-shield"],[1,"cell-role__name"],["severity","info",3,"value"],[1,"cell-secondary"],["icon","pi pi-trash","severity","danger","pTooltip","Supprimer",1,"mr-2",3,"click","text","rounded"],["icon","pi pi-arrow-right","severity","secondary","pTooltip","Modifier",3,"click","text","rounded"],["colspan","4"],[1,"empty-state"],[1,"flex","flex-col","gap-4"],["for","roleName",1,"block","font-bold","mb-2"],["pInputText","","id","roleName","placeholder","Ex: editeur, manager...",1,"w-full",3,"ngModelChange","keydown.enter","ngModel"],["label","Annuler","icon","pi pi-times",3,"click","text","disabled"],["label","Cr\xE9er","icon","pi pi-check",3,"click","disabled","loading"]],template:function(e,i){if(e&1){let r=f();g(0,"p-toast"),s(1,"div",9)(2,"p-toolbar",10),v(3,Ye,1,2,"ng-template",null,0,C)(5,Ze,1,0,"ng-template",null,1,C),n(),s(7,"p-table",11,2),v(9,et,6,0,"ng-template",null,3,C)(11,tt,13,0,"ng-template",null,4,C)(13,it,14,11,"ng-template",null,5,C)(15,rt,6,0,"ng-template",null,6,C),n()(),s(17,"p-dialog",12),O("visibleChange",function(c){return d(r),S(i.createDialog,c)||(i.createDialog=c),u(c)}),v(18,ot,5,1,"ng-template",null,7,C)(20,nt,2,4,"ng-template",null,8,C),n(),g(22,"p-confirmdialog")}e&2&&(a(7),p("value",i.roles())("rows",10)("paginator",!0)("globalFilterFields",R(15,Ke))("tableStyle",R(16,Je))("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",R(17,Xe))("loading",i.loading),a(10),J(R(18,Le)),w("visible",i.createDialog),p("modal",!0),a(5),J(R(19,Le)))},dependencies:[I,F,N,V,D,we,ye,Me,Pe,$,W,G,H,Ee,ke,L,U,Te,Ie,Oe,Se,be,xe,ve,he,Ne,Ae,z,j],styles:[".col-header[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.03em;color:var(--p-surface-400)}.table-row[_ngcontent-%COMP%]{cursor:pointer;transition:background .15s ease}.cell-role[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.cell-role__icon[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:.9rem;flex-shrink:0}.cell-role__name[_ngcontent-%COMP%]{font-weight:600;font-size:.9rem;color:var(--p-surface-800);text-transform:capitalize}.cell-secondary[_ngcontent-%COMP%]{color:var(--p-surface-400);font-size:.9rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.75rem;padding:3rem 0;color:var(--p-surface-300)}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}[_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{padding:1rem 1.25rem}[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td{padding:1.1rem 1.25rem}.dark[_nghost-%COMP%]   .cell-role__name[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .cell-role__name[_ngcontent-%COMP%]{color:var(--p-surface-100)}"]})};var st=()=>[1,2,3,4,5];function at(o,t){if(o&1){let e=f();s(0,"div",8)(1,"input",9),O("ngModelChange",function(r){d(e);let m=l();return S(m.roleName,r)||(m.roleName=r),u(r)}),_("blur",function(){d(e);let r=l();return u(r.saveName())})("keydown.enter",function(){d(e);let r=l();return u(r.saveName())}),n()()}if(o&2){let e=l();a(),w("ngModel",e.roleName),p("disabled",e.originalName==="admin")}}function lt(o,t){o&1&&g(0,"p-skeleton",10)}function mt(o,t){if(o&1){let e=f();s(0,"div",17)(1,"span",18),h(2),pe(3,"uppercase"),n(),s(4,"p-checkbox",19),_("onChange",function(){let r=d(e).$implicit,m=l(2);return u(m.toggleColumn(r))}),n()()}if(o&2){let e=t.$implicit,i=l(2);a(2),M(ce(3,4,e)),a(2),p("binary",!0)("ngModel",i.isColumnAllChecked(e))("indeterminate",i.isColumnIndeterminate(e))}}function pt(o,t){if(o&1){let e=f();s(0,"div",17)(1,"p-checkbox",22),_("onChange",function(){let r=d(e).$implicit,m=l().$implicit,c=l(2);return u(c.togglePermission(m,r))}),n()()}if(o&2){let e=t.$implicit,i=l().$implicit;a(),p("binary",!0)("ngModel",i.permissions[e])}}function ct(o,t){if(o&1){let e=f();s(0,"div",20)(1,"div",14)(2,"p-checkbox",19),_("onChange",function(){let r=d(e).$implicit,m=l(2);return u(m.toggleRow(r))}),n(),s(3,"span",21),h(4),n()(),v(5,pt,2,2,"div",15),n()}if(o&2){let e=t.$implicit,i=t.odd,r=l(2);le("permission-matrix__row--alt",i),a(2),p("binary",!0)("ngModel",r.isRowAllChecked(e))("indeterminate",r.isRowIndeterminate(e)),a(2),M(e.module),a(),p("ngForOf",r.actions)}}function dt(o,t){if(o&1&&(s(0,"div",0)(1,"h5",11),h(2),n(),s(3,"div",12)(4,"div",13),g(5,"div",14),v(6,mt,5,6,"div",15),n(),v(7,ct,6,7,"div",16),n()()),o&2){let e=l();a(2),me('Permissions du r\xF4le "',e.originalName,'"'),a(4),p("ngForOf",e.actions),a(),p("ngForOf",e.modules)}}function ut(o,t){o&1&&(s(0,"div",25),g(1,"p-skeleton",26)(2,"p-skeleton",27)(3,"p-skeleton",27)(4,"p-skeleton",27)(5,"p-skeleton",27),n())}function _t(o,t){o&1&&(s(0,"div",0),g(1,"p-skeleton",23),v(2,ut,6,0,"div",24),n()),o&2&&(a(2),p("ngForOf",R(1,st)))}var K=class o{constructor(t,e,i,r){this.route=t;this.router=e;this.roleService=i;this.messageService=r}roleId;roleName="";originalName="";modules=[];loading=!0;saving=!1;savingName=!1;actions=Q;ngOnInit(){this.roleId=+this.route.snapshot.params.id,this.loadRole()}loadRole(){this.loading=!0,this.roleService.getRole(this.roleId).subscribe({next:t=>{let e=this.normalizeRolePayload(t?.data);if(!e){this.messageService.add({severity:"error",summary:"Erreur",detail:"Format de r\xE9ponse invalide pour le r\xF4le",life:5e3}),this.loading=!1;return}if(this.roleName=e.role.name,this.originalName=e.role.name,e.modules.length>0){this.modules=e.modules,this.loading=!1;return}this.roleService.getPermissions().subscribe({next:i=>{this.modules=Array.isArray(i?.data)?i.data.map(r=>({module:r.module,permissions:{create:!!r.permissions?.create,read:!!r.permissions?.read,update:!!r.permissions?.update,delete:!!r.permissions?.delete}})):[],this.loading=!1},error:()=>{this.modules=[],this.loading=!1}})},error:t=>{this.messageService.add({severity:"error",summary:"Erreur",detail:t?.error?.message||"Impossible de charger le r\xF4le",life:5e3}),this.loading=!1}})}normalizeRolePayload(t){let e=t?.data??t;return e?.role?.name?{role:e.role,modules:Array.isArray(e.modules)?e.modules:[]}:e?.name?{role:{id:Number(e.id??this.roleId),name:String(e.name)},modules:Array.isArray(e.modules)?e.modules:[]}:null}togglePermission(t,e){t.permissions[e]=!t.permissions[e]}isRowAllChecked(t){return this.actions.every(e=>t.permissions[e])}isRowIndeterminate(t){let e=this.actions.filter(i=>t.permissions[i]).length;return e>0&&e<this.actions.length}toggleRow(t){let e=this.isRowAllChecked(t);this.actions.forEach(i=>{t.permissions[i]=!e})}isColumnAllChecked(t){return this.modules.length>0&&this.modules.every(e=>e.permissions[t])}isColumnIndeterminate(t){let e=this.modules.filter(i=>i.permissions[t]).length;return e>0&&e<this.modules.length}toggleColumn(t){let e=this.isColumnAllChecked(t);this.modules.forEach(i=>{i.permissions[t]=!e})}savePermissions(){if(this.saving)return;this.saving=!0;let t={};this.modules.forEach(i=>{let r=this.actions.filter(m=>i.permissions[m]);r.length>0&&(t[i.module]=r)});let e={permissions:t};this.roleService.updatePermissions(this.roleId,e).subscribe({next:i=>{this.modules=i.data.modules,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Permissions mises \xE0 jour",life:3e3}),this.saving=!1},error:i=>{this.messageService.add({severity:"error",summary:"Erreur",detail:i?.error?.message||"Impossible de sauvegarder les permissions",life:5e3}),this.saving=!1}})}saveName(){this.savingName||!this.roleName.trim()||this.roleName===this.originalName||(this.savingName=!0,this.roleService.updateRole(this.roleId,{name:this.roleName.trim()}).subscribe({next:()=>{this.originalName=this.roleName.trim(),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Nom du r\xF4le mis \xE0 jour",life:3e3}),this.savingName=!1},error:t=>{this.messageService.add({severity:"error",summary:"Erreur",detail:t?.error?.message||"Impossible de renommer le r\xF4le",life:5e3}),this.savingName=!1}}))}goBack(){this.router.navigate(["/parametres"])}static \u0275fac=function(e){return new(e||o)(x(fe),x(T),x(P),x(y))};static \u0275cmp=k({type:o,selectors:[["app-roles-edit"]],features:[E([y])],decls:10,vars:8,consts:[[1,"card"],[1,"role-header"],[1,"role-header__left"],["icon","pi pi-arrow-left","severity","secondary","pTooltip","Retour",3,"click","text","rounded"],["class","role-header__title",4,"ngIf"],["width","200px","height","2.2rem",4,"ngIf"],["label","Sauvegarder","icon","pi pi-save",3,"click","loading","disabled"],["class","card",4,"ngIf"],[1,"role-header__title"],["pInputText","",1,"role-name-input",3,"ngModelChange","blur","keydown.enter","ngModel","disabled"],["width","200px","height","2.2rem"],[1,"permission-title"],[1,"permission-matrix"],[1,"permission-matrix__header"],[1,"permission-matrix__module-col"],["class","permission-matrix__action-col",4,"ngFor","ngForOf"],["class","permission-matrix__row",3,"permission-matrix__row--alt",4,"ngFor","ngForOf"],[1,"permission-matrix__action-col"],[1,"permission-matrix__action-label"],[3,"onChange","binary","ngModel","indeterminate"],[1,"permission-matrix__row"],[1,"permission-matrix__module-name"],[3,"onChange","binary","ngModel"],["width","250px","height","1.5rem","styleClass","mb-6"],["class","flex items-center gap-8 mb-4",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-8","mb-4"],["width","140px","height","1.2rem"],["width","24px","height","24px"]],template:function(e,i){e&1&&(g(0,"p-toast"),s(1,"div",0)(2,"div",1)(3,"div",2)(4,"p-button",3),_("click",function(){return i.goBack()}),n(),v(5,at,2,2,"div",4)(6,lt,1,0,"p-skeleton",5),n(),s(7,"p-button",6),_("click",function(){return i.savePermissions()}),n()()(),v(8,dt,8,3,"div",7)(9,_t,3,2,"div",7)),e&2&&(a(4),p("text",!0)("rounded",!0),a(),p("ngIf",!i.loading),a(),p("ngIf",i.loading),a(),p("loading",i.saving)("disabled",i.loading||i.saving),a(),p("ngIf",!i.loading),a(),p("ngIf",i.loading))},dependencies:[I,de,ue,F,N,V,D,$,W,G,H,L,U,Re,Ce,z,j,De,Ve,_e],styles:[".role-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem}.role-header__left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.role-header__title[_ngcontent-%COMP%]{display:flex;align-items:center}.role-name-input[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;text-transform:capitalize;border:1px solid transparent;background:transparent;padding:.4rem .6rem;border-radius:8px;transition:all .15s ease}.role-name-input[_ngcontent-%COMP%]:hover{border-color:var(--p-surface-200)}.role-name-input[_ngcontent-%COMP%]:focus{border-color:var(--p-primary-500);background:var(--p-surface-0);box-shadow:0 0 0 2px var(--p-primary-100)}.permission-title[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.1rem;font-weight:600;color:var(--p-surface-800)}.permission-matrix[_ngcontent-%COMP%]{border:1px solid var(--p-surface-100);border-radius:12px;overflow:hidden}.permission-matrix__header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.25rem;background:var(--p-surface-50);border-bottom:1px solid var(--p-surface-100)}.permission-matrix__row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.85rem 1.25rem;border-bottom:1px solid var(--p-surface-50);transition:background .12s ease}.permission-matrix__row[_ngcontent-%COMP%]:last-child{border-bottom:none}.permission-matrix__row[_ngcontent-%COMP%]:hover{background:var(--p-primary-50)}.permission-matrix__row--alt[_ngcontent-%COMP%]{background:var(--p-surface-0)}.permission-matrix__module-col[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:.75rem;min-width:160px}.permission-matrix__module-name[_ngcontent-%COMP%]{font-weight:500;font-size:.9rem;color:var(--p-surface-700);text-transform:capitalize}.permission-matrix__action-col[_ngcontent-%COMP%]{width:120px;display:flex;flex-direction:column;align-items:center;gap:.35rem;flex-shrink:0}.permission-matrix__action-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em;color:var(--p-surface-400)}.dark[_nghost-%COMP%]   .role-name-input[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .role-name-input[_ngcontent-%COMP%]{color:var(--p-surface-100)}.dark[_nghost-%COMP%]   .role-name-input[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .role-name-input[_ngcontent-%COMP%]:hover{border-color:var(--p-surface-600)}.dark[_nghost-%COMP%]   .role-name-input[_ngcontent-%COMP%]:focus, .dark   [_nghost-%COMP%]   .role-name-input[_ngcontent-%COMP%]:focus{background:var(--p-surface-800);box-shadow:0 0 0 2px var(--p-primary-800)}.dark[_nghost-%COMP%]   .permission-title[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .permission-title[_ngcontent-%COMP%]{color:var(--p-surface-100)}.dark[_nghost-%COMP%]   .permission-matrix[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .permission-matrix[_ngcontent-%COMP%]{border-color:var(--p-surface-700)}.dark[_nghost-%COMP%]   .permission-matrix__header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .permission-matrix__header[_ngcontent-%COMP%]{background:var(--p-surface-800);border-bottom-color:var(--p-surface-700)}.dark[_nghost-%COMP%]   .permission-matrix__row[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .permission-matrix__row[_ngcontent-%COMP%]{border-bottom-color:var(--p-surface-800)}.dark[_nghost-%COMP%]   .permission-matrix__row[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .permission-matrix__row[_ngcontent-%COMP%]:hover{background:var(--p-surface-800)}.dark[_nghost-%COMP%]   .permission-matrix__module-name[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .permission-matrix__module-name[_ngcontent-%COMP%]{color:var(--p-surface-200)}"]})};var _i=[{path:"",component:q},{path:"edit/:id",component:K},{path:"**",redirectTo:"/notfound"}];export{_i as default};
