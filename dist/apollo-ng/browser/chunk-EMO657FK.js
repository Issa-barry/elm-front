import{a as Z}from"./chunk-3LXHJ5NQ.js";import{a as X,b as Y}from"./chunk-6K3PMKXP.js";import{a as U,b as V}from"./chunk-MQRFWSAZ.js";import"./chunk-4T3UXQLE.js";import{a as A,b as q}from"./chunk-ND4R2U6I.js";import"./chunk-6D57XO4D.js";import"./chunk-6KDRPASW.js";import"./chunk-EP3YWI2Y.js";import{a as b,b as J}from"./chunk-NRBTAFKL.js";import{a as K,b as Q}from"./chunk-3T2RFZ7W.js";import"./chunk-PQLNTU6W.js";import"./chunk-PHEFCL2E.js";import"./chunk-25WY5WZS.js";import"./chunk-IP4I7DBW.js";import{a as G,b as H}from"./chunk-GCTRRDXC.js";import"./chunk-KL2GTUAH.js";import"./chunk-EFWXUZ2L.js";import"./chunk-XTBLLWCW.js";import"./chunk-Q3TOKHIX.js";import"./chunk-3HK4LEG7.js";import"./chunk-XFRV2ODC.js";import"./chunk-VA7GDT7A.js";import"./chunk-CBQGLCGU.js";import"./chunk-I3IWLKIW.js";import"./chunk-DHSWO6FJ.js";import{a as j,b as R}from"./chunk-2B7VQJS6.js";import{b as x,d as B,g as P,k as F}from"./chunk-64TATO5O.js";import"./chunk-7DSJRHKD.js";import"./chunk-UQZNRTDQ.js";import"./chunk-B7FWBV5J.js";import{b as M,d as _}from"./chunk-M5YMP7G2.js";import"./chunk-BODZH67C.js";import"./chunk-7UZYWCAJ.js";import"./chunk-NG3S2PV5.js";import{i as v,j as z}from"./chunk-TD6BQ4FR.js";import{a as O,b as N}from"./chunk-AXKZCRGQ.js";import{pa as C,ta as L}from"./chunk-GAWVI3MB.js";import"./chunk-K5JLGCJ3.js";import"./chunk-4O3FVBGX.js";import{Ja as y,Kb as k,Ma as n,Xa as g,Xb as I,Zb as p,_b as D,ab as h,bc as c,cc as u,dc as f,ec as w,fc as T,gb as W,gc as E,wb as l,xb as a,yb as o,zb as d}from"./chunk-WHEAM6WH.js";import"./chunk-GAL4ENT6.js";var oe=()=>({height:"150px"}),re=()=>({height:"2.5rem"});function se(m,s){if(m&1&&(a(0,"div",20),d(1,"img",21),a(2,"span",22),p(3),o()()),m&2){let i=s.$implicit;n(),l("src",w("/demo/images/avatar/",i.image),y)("alt",i.name),n(2),D(i.name)}}function ne(m,s){if(m&1&&(a(0,"div",20),d(1,"img",21),a(2,"span",22),p(3),o()()),m&2){let i=s.$implicit;n(),l("src",w("/demo/images/avatar/",i.image),y)("alt",i.name),n(2),D(i.name)}}var S=class m{constructor(s,i,e){this.memberService=s;this.messageService=i;this.taskService=e;this.subscription=this.taskService.selectedTask$.subscribe(r=>this.task=r),this.dialogSubscription=this.taskService.dialogSource$.subscribe(r=>{this.dialogConfig=r,this.dialogConfig.newTask&&this.resetTask()})}task;members=[];filteredMembers=[];dialogConfig={header:"",visible:!1};subscription;dialogSubscription;ngOnInit(){this.memberService.getMembers().then(s=>this.members=s),this.resetTask()}filterMembers(s){let i=[],e=s.query;for(let r=0;r<this.members.length;r++){let t=this.members[r];t.name?.toLowerCase().indexOf(e.toLowerCase())==0&&i.push(t)}this.filteredMembers=i}save(){this.task.id=Math.floor(Math.random()*1e3),this.messageService.add({severity:"success",summary:"Success",detail:`Task "${this.task.name}" created successfully.`}),this.taskService.addTask(this.task),this.taskService.closeDialog()}cancelTask(){this.resetTask(),this.taskService.closeDialog()}resetTask(){this.task={id:this.task&&this.task.id?this.task.id:Math.floor(Math.random()*1e3),status:"Waiting"}}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||m)(g(Z),g(C),g(b))};static \u0275cmp=h({type:m,selectors:[["app-create-task"]],features:[T([C])],decls:29,vars:18,consts:[["styleClass","mx-4 sm:mx-0 sm:w-full md:w-8/12 lg:w-6/12","contentStyleClass","rounded-b border-t border-surface-200 dark:border-surface-700 p-0",3,"visibleChange","header","visible","modal","dismissableMask"],[1,"p-6"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","name",1,"text-surface-900","dark:text-surface-0","font-semibold","block","mb-2"],["id","name","type","text","placeholder","Title","pInputText","",3,"ngModelChange","ngModel"],["for","description",1,"text-surface-900","dark:text-surface-0","font-semibold","block","mb-2"],[3,"ngModelChange","ngModel"],[1,"col-span-6"],["for","start",1,"text-surface-900","dark:text-surface-0","font-semibold","block","mb-2"],["appendTo","body","dateFormat","yy-mm-dd","inputId","start","placeholder","Start Date",3,"ngModelChange","showTime","ngModel"],["for","end",1,"text-surface-900","dark:text-surface-0","font-semibold","block","mb-2"],["appendTo","body","dateFormat","yy-mm-dd","inputId","end","placeholder","Due Date",3,"ngModelChange","showTime","ngModel"],["for","members",1,"text-surface-900","dark:text-surface-0","font-semibold","block","mb-2"],["appendTo","body","inputId","members","field","name","placeholder","Choose team members",3,"ngModelChange","completeMethod","ngModel","suggestions","multiple","inputStyle"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"col-span-12","flex","justify-end","mt-6"],["pButton","","pRipple","","outlined","","icon","pi pi-times","label","Cancel",1,"w-32","mr-4",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Save",1,"w-32",3,"click"],[1,"flex","items-center"],[1,"h-8","w-8","mr-2",3,"src","alt"],[1,"text-surface-900","dark:text-surface-0","font-medium"]],template:function(i,e){i&1&&(d(0,"p-toast"),a(1,"p-dialog",0),f("visibleChange",function(t){return u(e.dialogConfig.visible,t)||(e.dialogConfig.visible=t),t}),a(2,"div",1)(3,"p-fluid",2)(4,"div",3)(5,"label",4),p(6,"Task Name"),o(),a(7,"input",5),f("ngModelChange",function(t){return u(e.task.name,t)||(e.task.name=t),t}),o()(),a(8,"div",3)(9,"label",6),p(10,"Description"),o(),a(11,"p-editor",7),f("ngModelChange",function(t){return u(e.task.description,t)||(e.task.description=t),t}),o()(),a(12,"div",8)(13,"label",9),p(14,"Start Date"),o(),a(15,"p-datepicker",10),f("ngModelChange",function(t){return u(e.task.startDate,t)||(e.task.startDate=t),t}),o()(),a(16,"div",8)(17,"label",11),p(18,"Due Date"),o(),a(19,"p-datepicker",12),f("ngModelChange",function(t){return u(e.task.endDate,t)||(e.task.endDate=t),t}),o()(),a(20,"div",3)(21,"label",13),p(22,"Add Team Member"),o(),a(23,"p-autocomplete",14),f("ngModelChange",function(t){return u(e.task.members,t)||(e.task.members=t),t}),k("completeMethod",function(t){return e.filterMembers(t)}),W(24,se,4,4,"ng-template",15)(25,ne,4,4,"ng-template",16),o()(),a(26,"div",17)(27,"button",18),k("click",function(){return e.cancelTask()}),o(),a(28,"button",19),k("click",function(){return e.save()}),o()()()()()),i&2&&(n(),l("header",e.dialogConfig.header||""),c("visible",e.dialogConfig.visible),l("modal",!0)("dismissableMask",!0),n(6),c("ngModel",e.task.name),n(4),I(E(16,oe)),c("ngModel",e.task.description),n(4),l("showTime",!1),c("ngModel",e.task.startDate),n(4),l("showTime",!1),c("ngModel",e.task.endDate),n(4),c("ngModel",e.task.members),l("suggestions",e.filteredMembers)("multiple",!0)("inputStyle",E(17,re)))},dependencies:[H,G,L,V,U,F,x,B,P,Q,K,q,A,_,M,Y,X,N,O,R,j,v],encapsulation:2})};var $=class m{constructor(s){this.taskService=s;this.subscription=this.taskService.taskSource$.subscribe(i=>this.categorize(i))}subscription;todo=[];completed=[];categorize(s){this.todo=s.filter(i=>i.completed!==!0),this.completed=s.filter(i=>i.completed)}ngOnDestroy(){this.subscription.unsubscribe()}showDialog(){this.taskService.showDialog("Create Task",!0)}static \u0275fac=function(i){return new(i||m)(g(b))};static \u0275cmp=h({type:m,selectors:[["ng-component"]],features:[T([b])],decls:8,vars:2,consts:[[1,"card"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-semibold"],["pButton","","pRipple","","outlined","","icon","pi pi-plus","label","Create Task",1,"font-semibold",3,"click"],["title","ToDo",3,"taskList"],["title","Completed",3,"taskList"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),p(3,"Task List"),o(),a(4,"button",3),k("click",function(){return e.showDialog()}),o()(),d(5,"app-task-list",4)(6,"app-task-list",5),o(),d(7,"app-create-task")),i&2&&(n(5),l("taskList",e.todo),n(),l("taskList",e.completed))},dependencies:[_,M,J,S,z,v],encapsulation:2})};export{$ as TaskList};
