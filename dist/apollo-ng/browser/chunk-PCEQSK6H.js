import{a as O}from"./chunk-JXE6IMXJ.js";import{a as me,b as ce}from"./chunk-MQRFWSAZ.js";import{a as re,h as ae,i as se,k as pe}from"./chunk-5OQ2YKCO.js";import{a as ge,b as Me}from"./chunk-3T2RFZ7W.js";import{a as _e,b as fe}from"./chunk-PHEFCL2E.js";import{a as de,b as ue}from"./chunk-25WY5WZS.js";import{d as te}from"./chunk-EFWXUZ2L.js";import{a as H,b as W,c as j,d as L}from"./chunk-HTAYFB7Z.js";import{a as E,b as R}from"./chunk-2B7VQJS6.js";import{b as ie,d as ne,g as oe,k as le}from"./chunk-64TATO5O.js";import{a as A,b as N}from"./chunk-7DSJRHKD.js";import{b as D,d as F}from"./chunk-M5YMP7G2.js";import{i as B,j as P}from"./chunk-TD6BQ4FR.js";import{pa as I}from"./chunk-GAWVI3MB.js";import{i as ee,k as V,u as k}from"./chunk-K5JLGCJ3.js";import{$ as p,$b as S,Gb as g,Ia as Q,Kb as _,Lb as a,Ma as d,Ra as U,Ub as M,Xa as b,Xb as Z,Zb as v,aa as m,ab as T,bc as h,cc as x,dc as w,gb as y,gc as C,ic as z,rb as X,sb as Y,vc as K,wb as u,xb as r,yb as c,zb as f}from"./chunk-WHEAM6WH.js";import{a as q,b as J}from"./chunk-GAL4ENT6.js";var Ee=()=>({height:"250px"});function Re(l,n){if(l&1&&f(0,"div",20),l&2){let e=a(2);u("innerHTML",e.content.message,Q)}}function Be(l,n){if(l&1){let e=g();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),v(4,"To"),c(),r(5,"p-iconfield",5),f(6,"p-inputicon",6),r(7,"input",7),w("ngModelChange",function(t){p(e);let o=a();return x(o.content.from,t)||(o.content.from=t),m(t)}),c()()(),r(8,"div",3)(9,"label",8),v(10,"Subject"),c(),r(11,"p-iconfield",5),f(12,"p-inputicon",9),r(13,"input",10),w("ngModelChange",function(t){p(e);let o=a();return x(o.content.title,t)||(o.content.title=t),m(t)}),c()()(),y(14,Re,1,1,"div",11),r(15,"div",12)(16,"span",13),_("click",function(){p(e);let t=a();return m(t.toggleMessage())}),f(17,"i",14),c(),r(18,"p-editor",15),w("ngModelChange",function(t){p(e);let o=a();return x(o.newMail.message,t)||(o.newMail.message=t),m(t)}),c()()(),r(19,"div",16),f(20,"button",17)(21,"button",18),r(22,"button",19),_("click",function(){p(e);let t=a();return m(t.sendMail())}),c()()()}if(l&2){let e=a();d(7),h("ngModel",e.content.from),d(6),h("ngModel",e.content.title),d(),u("ngIf",e.displayMessage),d(2),u("pTooltip",e.displayMessage?"Hide content":"Show content"),d(2),Z(C(7,Ee)),h("ngModel",e.newMail.message)}}var G=class l{constructor(n,e){this.messageService=n;this.mailService=e}newMail={id:"",to:"",email:"",image:"",title:"",message:"",date:"",important:!1,starred:!1,trash:!1,spam:!1,archived:!1,sent:!0};displayMessage=!1;content={};hide=new U;sendMail(){let{image:n,from:e,title:i}=this.content;this.newMail=J(q({},this.newMail),{to:e,title:i,image:n}),this.mailService.onSend(this.newMail),this.messageService.add({severity:"success",summary:"Success",detail:"Mail sent"}),this.hide.emit()}toggleMessage(){this.displayMessage=!this.displayMessage}static \u0275fac=function(e){return new(e||l)(b(I),b(O))};static \u0275cmp=T({type:l,selectors:[["app-mail-reply"]],inputs:{content:"content"},outputs:{hide:"hide"},decls:1,vars:1,consts:[["class","p-0 m-0",4,"ngIf"],[1,"p-0","m-0"],[1,"bg-surface-0","dark:bg-surface-950","grid","grid-cols-12","grid-nogutter","flex-col","md:flex-row","gap-12","p-8","rounded"],[1,"col-span-6"],["for","to",1,"block","text-surface-900","dark:text-surface-0","font-semibold","mb-4"],["styleClass","w-full",2,"height","3.5rem"],["styleClass","pi pi-user",2,"left","1.5rem"],["id","to","type","text","pInputText","",1,"w-full","pl-16!","text-surface-900","dark:text-surface-0","font-semibold",2,"height","3.5rem",3,"ngModelChange","ngModel"],["for","Subject",1,"block","text-surface-900","dark:text-surface-0","font-semibold","mb-4"],["styleClass","pi pi-pencil",2,"left","1.5rem"],["id","subject","type","text","pInputText","","placeholder","Subject",1,"w-full","pl-16!","text-surface-900","dark:text-surface-0","font-semibold",2,"height","3.5rem",3,"ngModelChange","ngModel"],["class","col-span-12",3,"innerHTML",4,"ngIf"],[1,"col-span-12"],[1,"bg-surface-50","dark:bg-surface-950","cursor-pointer","rounded","px-2",3,"click","pTooltip"],[1,"pi","pi-ellipsis-h"],["styleClass","mt-4",3,"ngModelChange","ngModel"],[1,"flex","gap-x-4","justify-end","p-8","border-t","border-surface-200","dark:border-surface-700"],["pButton","","pRipple","","type","button","outlined","","icon","pi pi-image"],["pButton","","pRipple","","type","button","outlined","","icon","pi pi-paperclip"],["pButton","","pRipple","","type","button","icon","pi pi-send","label","Send",1,"h-12",3,"click"],[1,"col-span-12",3,"innerHTML"]],template:function(e,i){e&1&&y(0,Be,23,8,"div",0),e&2&&u("ngIf",i.content)},dependencies:[k,V,N,A,F,D,Me,ge,le,ie,ne,oe,W,H,L,j,R,E,P,B],encapsulation:2})};var Pe=()=>["from","title","message"],De=()=>[10,20,30],Fe=(l,n)=>({"pi-star-fill":l,"pi-star":n}),He=(l,n)=>({"pi-bookmark-fill":l,"pi-bookmark":n});function We(l,n){if(l&1){let e=g();r(0,"div",9)(1,"div",10),f(2,"p-tableHeaderCheckbox")(3,"button",11),r(4,"button",12),_("click",function(t){p(e);let o=M(6);return m(o.toggle(t))}),c(),f(5,"p-menu",13,3),c(),r(7,"p-iconfield"),f(8,"p-inputicon",14),r(9,"input",15),_("input",function(t){p(e);let o=a(),s=M(1);return m(o.onGlobalFilter(s,t))}),c()()()}if(l&2){let e=a(),i=M(1);d(5),u("model",e.menuItems)("appendTo",i)("popup",!0)}}function je(l,n){if(l&1){let e=g();r(0,"td",33)(1,"span",34),_("click",function(t){p(e);let o=a().$implicit,s=a();return m(s.onStar(t,o.id))})("touchend",function(t){p(e);let o=a().$implicit,s=a();return m(s.onStar(t,o.id))}),f(2,"i",35),c()()}if(l&2){let e=a().$implicit;d(2),u("ngClass",z(1,Fe,e.starred,!e.starred))}}function Le(l,n){if(l&1){let e=g();r(0,"td",33)(1,"span",34),_("click",function(t){p(e);let o=a().$implicit,s=a();return m(s.onBookmark(t,o.id))})("touchend",function(t){p(e);let o=a().$implicit,s=a();return m(s.onBookmark(t,o.id))}),f(2,"i",35),c()()}if(l&2){let e=a().$implicit;d(2),u("ngClass",z(1,He,e.important,!e.important))}}function Ae(l,n){if(l&1&&f(0,"p-avatar",21),l&2){let e=a().$implicit;u("image",e.image?"/demo/images/avatar/"+e.image:"assets/layout/images/avatar.png")}}function Ne(l,n){l&1&&f(0,"p-avatar",22)}function Oe(l,n){if(l&1){let e=g();r(0,"tr",16),_("mouseenter",function(t){p(e);let o=M(16),s=M(19),$=a();return m($.toggleOptions(t,s,o))})("mouseleave",function(t){p(e);let o=M(16),s=M(19),$=a();return m($.toggleOptions(t,s,o))})("click",function(){let t=p(e).$implicit,o=a();return m(o.onRowSelect(t.id))}),r(1,"td",17)(2,"p-tableCheckbox",18),_("click",function(t){return p(e),m(t.stopPropagation())})("touchend",function(t){return p(e),m(t.stopPropagation())}),c()(),y(3,je,3,4,"td",19)(4,Le,3,4,"td",19),r(5,"td",20),X(6,Ae,1,1,"p-avatar",21)(7,Ne,1,0,"p-avatar",22),c(),r(8,"td",23),v(9),c(),r(10,"td",24)(11,"span",25),v(12),c()(),r(13,"td",26)(14,"div",27)(15,"span",28,4),v(17),c(),r(18,"div",29,5)(20,"button",30),_("click",function(t){let o=p(e).$implicit,s=a();return m(s.onArchive(t,o.id))}),c(),r(21,"button",31),_("click",function(t){let o=p(e).$implicit,s=a();return m(s.onReply(t,o))}),c(),r(22,"button",32),_("click",function(t){let o=p(e).$implicit,s=a();return m(s.onTrash(t,o))}),c()()()()()}if(l&2){let e=n.$implicit;d(2),u("value",e),d(),u("ngIf",!e.trash&&!e.spam),d(),u("ngIf",!e.trash&&!e.spam),d(2),Y(e.image?6:7),d(3),S(" ",e.from||e.to," "),d(3),S(" ",e.title," "),d(5),S(" ",e.date," ")}}var be=class l{constructor(n,e,i){this.router=n;this.mailService=e;this.messageService=i}mails;menuItems=[];selectedMails=[];mail={};dialogVisible=!1;ngOnInit(){this.menuItems=[{label:"Archive",icon:"pi pi-fw pi-file",command:()=>this.onArchiveMultiple()},{label:"Spam",icon:"pi pi-fw pi-ban",command:()=>this.onSpamMultiple()},{label:"Delete",icon:"pi pi-fw pi-trash",command:()=>this.onDeleteMultiple()}]}toggleOptions(n,e,i){n.type==="mouseenter"?(e.style.display="flex",i.style.display="none"):(e.style.display="none",i.style.display="flex")}onRowSelect(n){this.router.navigate(["/apps/mail/detail/",n])}onStar(n,e){n.stopPropagation(),this.mailService.onStar(e)}onArchive(n,e){n.stopPropagation(),this.mailService.onArchive(e),this.messageService.add({severity:"info",summary:"Info",detail:"Mail archived",life:3e3})}onBookmark(n,e){n.stopPropagation(),this.mailService.onBookmark(e)}onDelete(n){this.mailService.onDelete(n),this.messageService.add({severity:"info",summary:"Info",detail:"Mail deleted",life:3e3})}onDeleteMultiple(){this.selectedMails&&this.selectedMails.length>0&&(this.mailService.onDeleteMultiple(this.selectedMails),this.messageService.add({severity:"info",summary:"Info",detail:"Mails deleted",life:3e3}))}onSpamMultiple(){this.selectedMails&&this.selectedMails.length>0&&(this.mailService.onSpamMultiple(this.selectedMails),this.messageService.add({severity:"info",summary:"Info",detail:"Moved to spam",life:3e3}))}onArchiveMultiple(){this.selectedMails&&this.selectedMails.length>0&&(this.mailService.onArchiveMultiple(this.selectedMails),this.messageService.add({severity:"info",summary:"Info",detail:"Moved to archive",life:3e3}))}onTrash(n,e){n.stopPropagation(),e.trash&&this.onDelete(e.id),this.mailService.onTrash(e.id)}onReply(n,e){n.stopPropagation(),this.mail=e,this.dialogVisible=!0}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}static \u0275fac=function(e){return new(e||l)(b(te),b(O),b(I))};static \u0275cmp=T({type:l,selectors:[["app-mail-table"]],inputs:{mails:"mails"},decls:8,vars:13,consts:[["dt",""],["caption",""],["body",""],["menu",""],["date",""],["options",""],["responsiveLayout","scroll","selectionMode","multiple","dataKey","id",3,"selectionChange","value","rows","globalFilterFields","paginator","rowsPerPageOptions","selection","rowHover"],["header","New Message","styleClass","mx-4 sm:mx-0 sm:w-full md:w-8/12 lg:w-6/12","contentStyleClass","rounded-b border-t border-surface-200 dark:border-surface-700 p-0",3,"visibleChange","onHide","visible","closable","modal"],[3,"hide","content"],[1,"flex","flex-wrap","items-center","justify-between","gap-3"],[1,"flex","gap-2","items-center"],["pButton","","pRipple","","type","button","icon","pi pi-refresh","rounded","","text","","plain","",1,"ml-4"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","rounded","","text","","plain","",1,"ml-3",3,"click"],[3,"model","appendTo","popup"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Mail",1,"w-full","sm:w-auto",3,"input"],[1,"cursor-pointer",3,"mouseenter","mouseleave","click"],[1,"pl-3",2,"width","4rem"],[3,"click","touchend","value"],["style","width: 4rem",4,"ngIf"],[2,"min-width","4rem"],[3,"image"],["icon","pi pi-user","shape","circle"],[1,"text-900","font-semibold",2,"min-width","12rem"],[2,"min-width","12rem"],[1,"font-medium","white-space-nowrap","overflow-hidden","text-overflow-ellipsis","block",2,"max-width","30rem"],[2,"width","12rem"],[1,"flex","justify-content-end","w-full","px-0"],[1,"text-700","font-semibold","white-space-nowrap"],[2,"display","none"],["pButton","","pRipple","","icon","pi pi-inbox","pTooltip","Archive","tooltipPosition","top","type","button",1,"h-8","w-8","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-reply","severity","secondary","pTooltip","Reply","tooltipPosition","top","type","button",1,"h-8","w-8","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","severity","danger","pTooltip","Trash","tooltipPosition","top","type","button",1,"h-8","w-8rem",3,"click"],[2,"width","4rem"],[1,"cursor-pointer",3,"click","touchend"],[1,"pi","pi-fw","text-xl",3,"ngClass"]],template:function(e,i){if(e&1){let t=g();r(0,"p-table",6,0),w("selectionChange",function(s){return p(t),x(i.selectedMails,s)||(i.selectedMails=s),m(s)}),y(2,We,10,3,"ng-template",null,1,K)(4,Oe,23,7,"ng-template",null,2,K),c(),r(6,"p-dialog",7),w("visibleChange",function(s){return p(t),x(i.dialogVisible,s)||(i.dialogVisible=s),m(s)}),_("onHide",function(){return p(t),m(i.dialogVisible=!1)}),r(7,"app-mail-reply",8),_("hide",function(){return p(t),m(i.dialogVisible=!1)}),c()()}e&2&&(u("value",i.mails)("rows",10)("globalFilterFields",C(11,Pe))("paginator",!0)("rowsPerPageOptions",C(12,De)),h("selection",i.selectedMails),u("rowHover",!0),d(6),h("visible",i.dialogVisible),u("closable",!0)("modal",!0),d(),u("content",i.mail))},dependencies:[pe,re,ae,se,F,D,k,ee,V,ce,me,P,B,fe,_e,ue,de,G,W,H,L,j,R,E,N,A],encapsulation:2})};export{be as a};
