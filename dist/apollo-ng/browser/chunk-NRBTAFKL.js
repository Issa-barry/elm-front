import{a as ae,b as se}from"./chunk-PQLNTU6W.js";import{a as ne,b as oe}from"./chunk-PHEFCL2E.js";import{a as te,b as ie}from"./chunk-25WY5WZS.js";import{a as Z,b as ee}from"./chunk-Q3TOKHIX.js";import{d as W,g as q,k as U}from"./chunk-64TATO5O.js";import{b as H}from"./chunk-UQZNRTDQ.js";import{b as X,d as Y}from"./chunk-M5YMP7G2.js";import{i as J,j as K}from"./chunk-TD6BQ4FR.js";import{i as z,j as P,k as Q,t as R,u as G}from"./chunk-K5JLGCJ3.js";import{$ as k,$b as F,Gb as I,Kb as b,Lb as m,Ma as a,Pb as M,Qb as D,R as T,Rb as L,V as S,Xa as y,Xb as E,Zb as d,_b as u,aa as g,ab as w,bc as O,cc as j,dc as $,ec as v,f as C,g as _,gb as f,gc as V,hc as N,qc as A,tc as B,wb as s,xb as r,yb as n,zb as p}from"./chunk-WHEAM6WH.js";var h=class i{constructor(t){this.http=t;this.http.get("/demo/data/tasks.json").toPromise().then(e=>e.data).then(e=>{this.tasks=e,this.taskSource.next(e)})}dialogConfig={visible:!1,header:"",newTask:!1};tasks=[];taskSource=new _(this.tasks);selectedTask=new C;dialogSource=new _(this.dialogConfig);taskSource$=this.taskSource.asObservable();selectedTask$=this.selectedTask.asObservable();dialogSource$=this.dialogSource.asObservable();addTask(t){this.tasks.includes(t)?this.tasks=this.tasks.map(e=>e.id===t.id?t:e):this.tasks=[...this.tasks,t],this.taskSource.next(this.tasks)}removeTask(t){this.tasks=this.tasks.filter(e=>e.id!==t),this.taskSource.next(this.tasks)}onTaskSelect(t){this.selectedTask.next(t)}markAsCompleted(t){this.tasks=this.tasks.map(e=>e.id===t.id?t:e),this.taskSource.next(this.tasks)}showDialog(t,e){this.dialogConfig={visible:!0,header:t,newTask:e},this.dialogSource.next(this.dialogConfig)}closeDialog(){this.dialogConfig={visible:!1},this.dialogSource.next(this.dialogConfig)}static \u0275fac=function(e){return new(e||i)(S(H))};static \u0275prov=T({token:i,factory:i.\u0275fac})};var pe=["menu"],ce=i=>({"line-through":i}),de=()=>({color:"#212121",border:"2px solid var(--surface-border)"});function fe(i,t){if(i&1&&(r(0,"span",18),p(1,"i",19),d(2),n()),i&2){let e=m().$implicit;a(2),u(e.comments)}}function ue(i,t){if(i&1&&(r(0,"span",18),p(1,"i",20),d(2),n()),i&2){let e=m().$implicit;a(2),u(e.attachments)}}function ke(i,t){if(i&1&&(r(0,"span",21),p(1,"i",22),d(2),n()),i&2){let e=m().$implicit,o=m();a(2),u(o.parseDate(e.startDate))}}function ge(i,t){if(i&1&&p(0,"p-avatar",23),i&2){let e=t.$implicit;s("image",v("/demo/images/avatar/",e.image))}}function he(i,t){if(i&1&&p(0,"p-avatar",24),i&2){let e=m().$implicit;E(V(4,de)),s("label",v("+ ",e.members.length-4))}}function xe(i,t){if(i&1){let e=I();r(0,"li",4)(1,"div",5)(2,"p-checkbox",6),b("onChange",function(l){let c=k(e).$implicit,x=m();return g(x.onCheckboxChange(l,c))}),$("ngModelChange",function(l){let c=k(e).$implicit;return j(c.completed,l)||(c.completed=l),g(l)}),n(),r(3,"label",7),d(4),n()(),r(5,"div",8)(6,"div",9),f(7,fe,3,1,"span",10)(8,ue,3,1,"span",10)(9,ke,3,1,"span",11),n(),r(10,"div",12)(11,"p-avatarGroup",13),f(12,ge,1,2,"p-avatar",14),A(13,"slice"),f(14,he,1,5,"p-avatar",15),n(),r(15,"button",16),b("click",function(l){let c=k(e).$implicit,x=m();return g(x.toggleMenu(l,c))}),n(),p(16,"p-menu",17,0),n()()()}if(i&2){let e=t.$implicit,o=m();a(2),s("binary",!0),O("ngModel",e.completed),s("inputId",e.id.toString()),a(),s("ngClass",N(16,ce,e.completed)),a(),u(e.name),a(3),s("ngIf",e.comments),a(),s("ngIf",e.attachments),a(),s("ngIf",e.startDate),a(3),s("ngForOf",B(13,12,e.members,0,4)),a(2),s("ngIf",e&&e.members&&e.members.length>4),a(2),s("popup",!0)("model",o.menuItems)}}var re=class i{constructor(t){this.taskService=t}taskList;title;menu;menuItems=[];clickedTask;ngOnInit(){this.menuItems=[{label:"Edit",icon:"pi pi-pencil",command:()=>this.onEdit()},{label:"Delete",icon:"pi pi-trash",command:()=>this.handleDelete()}]}parseDate(t){return new Date(t).toUTCString().split(" ").slice(1,3).join(" ")}handleDelete(){this.taskService.removeTask(this.clickedTask.id)}toggleMenu(t,e){this.clickedTask=e,this.menu.toggle(t)}onEdit(){this.taskService.onTaskSelect(this.clickedTask),this.taskService.showDialog("Edit Task",!1)}onCheckboxChange(t,e){t.originalEvent.stopPropagation(),e.completed=t.checked,this.taskService.markAsCompleted(e)}static \u0275fac=function(e){return new(e||i)(y(h))};static \u0275cmp=w({type:i,selectors:[["app-task-list"]],viewQuery:function(e,o){if(e&1&&M(pe,5),e&2){let l;D(l=L())&&(o.menu=l.first)}},inputs:{taskList:"taskList",title:"title"},decls:5,vars:2,consts:[["menu",""],[1,"text-surface-900","dark:text-surface-0","font-semibold","text-lg","mt-8","mb-4","border-b","border-surface-200","dark:border-surface-700","py-4"],[1,"list-none","p-0","m-0"],["class","flex flex-col gap-4 md:flex-row md:items-center p-2 border-b border-surface-200 dark:border-surface-700",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-4","md:flex-row","md:items-center","p-2","border-b","border-surface-200","dark:border-surface-700"],[1,"flex","items-center","flex-1"],[3,"onChange","ngModelChange","binary","ngModel","inputId"],["for","task.id",1,"font-medium","whitespace-nowrap","text-ellipsis","overflow-hidden","ml-2",2,"max-width","500px",3,"ngClass"],[1,"flex","flex-1","gap-4","flex-col","sm:flex-row","sm:justify-between"],[1,"flex","items-center"],["class","flex items-center font-semibold mr-4",4,"ngIf"],["class","flex items-center font-semibold whitespace-nowrap",4,"ngIf"],[1,"flex","items-center","sm:justify-end"],["styleClass","mr-4"],["size","large","shape","circle",3,"image",4,"ngFor","ngForOf"],["shape","circle","size","large","class","bg-blue-500",3,"label","style",4,"ngIf"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","text","","rounded","",1,"z-30","ml-auto","sm:ml-0",3,"click"],["styleClass","w-32",3,"popup","model"],[1,"flex","items-center","font-semibold","mr-4"],[1,"pi","pi-comment","mr-2"],[1,"pi","pi-paperclip","mr-2"],[1,"flex","items-center","font-semibold","whitespace-nowrap"],[1,"pi","pi-clock","mr-2"],["size","large","shape","circle",3,"image"],["shape","circle","size","large",1,"bg-blue-500",3,"label"]],template:function(e,o){e&1&&(r(0,"div")(1,"div",1),d(2),n(),r(3,"ul",2),f(4,xe,18,18,"li",3),n()()),e&2&&(a(2),F(" ",o.title," "),a(2),s("ngForOf",o.taskList))},dependencies:[G,z,P,Q,ee,Z,se,ae,oe,ne,ie,te,Y,X,K,J,U,W,q,R],encapsulation:2,changeDetection:0})};export{h as a,re as b};
