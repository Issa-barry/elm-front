import{a as We}from"./chunk-KBIYZYNQ.js";import{a as Oe}from"./chunk-KMJ4YXQB.js";import{b as Be}from"./chunk-3ZFUBRWI.js";import{b as je}from"./chunk-VV6ELWME.js";import{a as $e,c as Ke}from"./chunk-F4Z36YAX.js";import{a as qe}from"./chunk-OVLHBJZG.js";import{e as Ue,h as Qe,p as ge}from"./chunk-4JYGVSAH.js";import{a as Ve}from"./chunk-VPIKZKGZ.js";import{b as pe,g as Le,h as Re,i as He}from"./chunk-LBKL4PXF.js";import{Ba as Pe,Ea as se,Fa as ce,Ga as V,Ha as Ae,J as we,Z as Me,ha as de,n as ke,ta as Ee,ua as U,va as ze,wa as Fe,x as ae,y as Ie,z as De}from"./chunk-5CRI5L3F.js";import{i as Se,j as ie,k as oe,n as Ce,o as re,v as le}from"./chunk-PVTSUL7D.js";import{$b as u,Ab as h,Bb as f,Cb as N,Dc as E,Gb as C,Hb as k,Ib as P,Jb as L,Kc as ne,Nb as D,Ob as d,Pa as s,Pc as b,Qc as z,Rb as v,S as ue,Sb as R,T as q,Tb as y,U as he,Ua as T,Ub as x,W as G,Y as M,Yb as X,_a as fe,_b as K,ac as ee,ba as m,bc as be,ca as _,cc as Ne,da as F,db as Y,eb as me,hb as J,ib as _e,jb as p,jc as te,ka as $,lc as A,mc as Te,nc as ve,pa as Z,rb as S,sb as ye,tb as xe,ub as O,vb as B,yc as H,zb as a}from"./chunk-WZ5FQRRG.js";import{a as W}from"./chunk-GAL4ENT6.js";var Ge=`
    .p-tree {
        display: block;
        background: dt('tree.background');
        color: dt('tree.color');
        padding: dt('tree.padding');
    }

    .p-tree-root-children,
    .p-tree-node-children {
        display: flex;
        list-style-type: none;
        flex-direction: column;
        margin: 0;
        gap: dt('tree.gap');
    }

    .p-tree-root-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
    }

    .p-tree-node-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
        padding-inline-start: dt('tree.indent');
    }

    .p-tree-node {
        padding: 0;
        outline: 0 none;
    }

    .p-tree-node-content {
        border-radius: dt('tree.node.border.radius');
        padding: dt('tree.node.padding');
        display: flex;
        align-items: center;
        outline-color: transparent;
        color: dt('tree.node.color');
        gap: dt('tree.node.gap');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
    }

    .p-tree-node-content[data-p-dragging] {
        outline: 1px dashed dt('primary.color');
        outline-offset: -1px;
    }

    .p-tree-node-content[data-pc-section="drag-image"] {
        background: dt('tree.background');
    }

    .p-tree-node:focus-visible > .p-tree-node-content {
        box-shadow: dt('tree.node.focus.ring.shadow');
        outline: dt('tree.node.focus.ring.width') dt('tree.node.focus.ring.style') dt('tree.node.focus.ring.color');
        outline-offset: dt('tree.node.focus.ring.offset');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover .p-tree-node-icon {
        color: dt('tree.node.icon.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected {
        background: dt('tree.node.selected.background');
        color: dt('tree.node.selected.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button {
        color: inherit;
    }

    .p-tree-node-content.p-tree-node-dragover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-drop-point {
		outline: 1px solid dt('primary.color');
	}

    .p-tree-node-toggle-button {
        cursor: pointer;
        user-select: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        flex-shrink: 0;
        width: dt('tree.node.toggle.button.size');
        height: dt('tree.node.toggle.button.size');
        color: dt('tree.node.toggle.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('tree.node.toggle.button.border.radius');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            border-color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
        outline-color: transparent;
        padding: 0;
    }

    .p-tree-node-toggle-button:enabled:hover {
        background: dt('tree.node.toggle.button.hover.background');
        color: dt('tree.node.toggle.button.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button:hover {
        background: dt('tree.node.toggle.button.selected.hover.background');
        color: dt('tree.node.toggle.button.selected.hover.color');
    }

    .p-tree-root {
        overflow: auto;
    }

    .p-tree-node-selectable {
        cursor: pointer;
        user-select: none;
    }

    .p-tree-node-leaf > .p-tree-node-content .p-tree-node-toggle-button {
        visibility: hidden;
    }

    .p-tree-node-icon {
        color: dt('tree.node.icon.color');
        transition: color dt('tree.transition.duration');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-icon {
        color: dt('tree.node.icon.selected.color');
    }

    .p-tree-filter {
        margin: dt('tree.filter.margin');
    }

    .p-tree-filter-input {
        width: 100%;
    }

    .p-tree-loading {
        position: relative;
        height: 100%;
    }

    .p-tree-loading-icon {
        font-size: dt('tree.loading.icon.size');
        width: dt('tree.loading.icon.size');
        height: dt('tree.loading.icon.size');
    }

    .p-tree .p-tree-mask {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-tree-flex-scrollable {
        display: flex;
        flex: 1;
        height: 100%;
        flex-direction: column;
    }

    .p-tree-flex-scrollable .p-tree-root {
        flex: 1;
    }
`;var Xe=n=>({height:n}),rt=(n,l)=>({$implicit:n,loading:l}),lt=(n,l,e)=>({$implicit:n,partialSelected:l,class:e}),et=n=>({$implicit:n});function at(n,l){if(n&1&&N(0,"div",9),n&2){let e=d(2);u(e.cx("dropPoint")),a("pBind",e.getPTOptions("dropPoint")),S("aria-hidden",!0)}}function dt(n,l){if(n&1&&(F(),N(0,"svg",13)),n&2){let e=d(4);u(e.cx("nodeToggleIcon")),a("pBind",e.getPTOptions("nodeToggleIcon"))}}function st(n,l){if(n&1&&(F(),N(0,"svg",14)),n&2){let e=d(4);u(e.cx("nodeToggleIcon")),a("pBind",e.getPTOptions("nodeToggleIcon"))}}function ct(n,l){if(n&1&&(C(0),p(1,dt,1,3,"svg",11)(2,st,1,3,"svg",12),k()),n&2){let e=d(3);s(),a("ngIf",!e.node.expanded),s(),a("ngIf",e.node.expanded)}}function pt(n,l){if(n&1&&(C(0),F(),N(1,"svg",15),k()),n&2){let e=d(3);s(),u(e.cx("nodeToggleIcon")),a("pBind",e.getPTOptions("nodeToggleIcon"))}}function gt(n,l){if(n&1&&(C(0),p(1,ct,3,2,"ng-container",6)(2,pt,2,3,"ng-container",6),k()),n&2){let e=d(2);s(),a("ngIf",!e.node.loading),s(),a("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function ut(n,l){}function ht(n,l){n&1&&p(0,ut,0,0,"ng-template")}function ft(n,l){if(n&1&&(h(0,"span",9),p(1,ht,1,0,null,16),f()),n&2){let e=d(2);u(e.cx("nodeToggleIcon")),a("pBind",e.getPTOptions("nodeToggleIcon")),s(),a("ngTemplateOutlet",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate)("ngTemplateOutletContext",Te(5,rt,e.node.expanded,e.node.loading))}}function mt(n,l){}function _t(n,l){n&1&&p(0,mt,0,0,"ng-template")}function yt(n,l){if(n&1&&p(0,_t,1,0,null,16),n&2){let e=d(4);a("ngTemplateOutlet",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)("ngTemplateOutletContext",ve(2,lt,e.isSelected(),e.node.partialSelected,e.cx("nodeCheckbox")))}}function xt(n,l){n&1&&(C(0),p(1,yt,1,6,"ng-template",null,0,H),k())}function bt(n,l){if(n&1){let e=L();h(0,"p-checkbox",17),D("click",function(i){return m(e),_(i.preventDefault())}),p(1,xt,3,0,"ng-container",6),f()}if(n&2){let e=d(2);a("ngModel",e.isSelected())("styleClass",e.cx("nodeCheckbox"))("binary",!0)("indeterminate",e.node.partialSelected)("disabled",e.node.selectable===!1)("variant",(e.tree==null?null:e.tree.config.inputStyle())==="filled"||(e.tree==null?null:e.tree.config.inputVariant())==="filled"?"filled":"outlined")("tabindex",-1)("pt",e.getPTOptions("pcNodeCheckbox")),S("data-p-partialchecked",e.node.partialSelected),s(),a("ngIf",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)}}function Nt(n,l){if(n&1&&N(0,"span",9),n&2){let e=d(2);u(e.getIcon()),a("pBind",e.getPTOptions("nodeIcon"))}}function Tt(n,l){if(n&1&&(h(0,"span"),ee(1),f()),n&2){let e=d(2);s(),be(e.node.label)}}function vt(n,l){n&1&&P(0)}function St(n,l){if(n&1&&(h(0,"span"),p(1,vt,1,0,"ng-container",16),f()),n&2){let e=d(2);s(),a("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",A(2,et,e.node))}}function Ct(n,l){if(n&1&&N(0,"div",9),n&2){let e=d(2);u(e.cx("dropPoint")),a("pBind",e.getPTOptions("dropPoint")),S("aria-hidden",!0)}}function kt(n,l){if(n&1&&N(0,"p-treeNode",20),n&2){let e=l.$implicit,t=l.first,i=l.last,o=l.index,r=d(3);a("node",e)("parentNode",r.node)("firstChild",t)("lastChild",i)("index",o)("itemSize",r.itemSize)("level",r.level+1)("loadingMode",r.loadingMode)("pt",r.pt)("unstyled",r.unstyled())}}function It(n,l){if(n&1&&(h(0,"ul",18),p(1,kt,1,10,"p-treeNode",19),f()),n&2){let e=d(2);u(e.cx("nodeChildren")),a("pBind",e.ptm("nodeChildren")),s(),a("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy.bind(e))}}function Dt(n,l){if(n&1){let e=L();h(0,"li",2),D("keydown",function(i){m(e);let o=d();return _(o.onKeyDown(i))}),O(1,at,1,4,"div",3),h(2,"div",4),D("click",function(i){m(e);let o=d();return _(o.onNodeClick(i))})("contextmenu",function(i){m(e);let o=d();return _(o.onNodeRightClick(i))})("dblclick",function(i){m(e);let o=d();return _(o.onNodeDblClick(i))})("touchend",function(){m(e);let i=d();return _(i.onNodeTouchEnd())})("drop",function(i){m(e);let o=d();return _(o.onNodeDrop(i))})("dragstart",function(i){m(e);let o=d();return _(o.onNodeDragStart(i))})("dragover",function(i){m(e);let o=d();return _(o.onNodeDragOver(i))})("dragleave",function(i){m(e);let o=d();return _(o.onNodeDragLeave(i))})("dragend",function(i){m(e);let o=d();return _(o.onNodeDragEnd(i))}),h(3,"button",5),D("click",function(i){m(e);let o=d();return _(o.toggle(i))}),p(4,gt,3,2,"ng-container",6)(5,ft,2,8,"span",7),f(),p(6,bt,2,10,"p-checkbox",8)(7,Nt,1,3,"span",7),h(8,"span",9),p(9,Tt,2,1,"span",6)(10,St,2,4,"span",6),f()(),O(11,Ct,1,4,"div",3),p(12,It,2,5,"ul",10),f()}if(n&2){let e=d();K(e.node.style),u(e.cn(e.cx("node"),e.node.styleClass)),a("ngStyle",A(36,Xe,e.itemSize+"px"))("pBind",e.getPTOptions("node")),S("aria-label",e.node.label)("aria-checked",e.checked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.selected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),s(),B(e.isPrevDropPointActive()?1:-1),s(),u(e.cx("nodeContent")),X("padding-left",e.level*e.indentation+"rem"),a("draggable",e.tree.draggableNodes)("pBind",e.getPTOptions("nodeContent")),s(),u(e.cx("nodeToggleButton")),a("pBind",e.getPTOptions("nodeToggleButton")),s(),a("ngIf",!e.tree.togglerIconTemplate&&!e.tree._togglerIconTemplate),s(),a("ngIf",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate),s(),a("ngIf",e.tree.selectionMode=="checkbox"),s(),a("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),s(),u(e.cx("nodeLabel")),a("pBind",e.getPTOptions("nodeLabel")),s(),a("ngIf",!e.tree.getTemplateForNode(e.node)),s(),a("ngIf",e.tree.getTemplateForNode(e.node)),s(),B(e.isNextDropPointActive()?11:-1),s(),a("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded)}}var Ze=["filter"],wt=["node"],Mt=["header"],Et=["footer"],zt=["loader"],Ft=["empty"],Pt=["togglericon"],At=["checkboxicon"],Vt=["loadingicon"],Ot=["filtericon"],Bt=["scroller"],Lt=["wrapper"],Rt=["content"],Ht=n=>({options:n});function Ut(n,l){if(n&1&&N(0,"i",11),n&2){let e=d(2);u(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon)),a("pBind",e.ptm("loadingIcon"))}}function Qt(n,l){if(n&1&&(F(),N(0,"svg",13)),n&2){let e=d(3);u(e.cx("loadingIcon")),a("pBind",e.ptm("loadingIcon"))}}function qt(n,l){}function $t(n,l){n&1&&p(0,qt,0,0,"ng-template")}function Kt(n,l){if(n&1&&(h(0,"span",11),p(1,$t,1,0,null,8),f()),n&2){let e=d(3);u(e.cx("loadingIcon")),a("pBind",e.ptm("loadingIcon")),s(),a("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function jt(n,l){if(n&1&&(C(0),p(1,Qt,1,3,"svg",12)(2,Kt,2,4,"span",7),k()),n&2){let e=d(2);s(),a("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),s(),a("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function Wt(n,l){if(n&1&&(h(0,"div",11),xe("p-overlay-mask-leave-active"),ye("p-overlay-mask-enter-active"),p(1,Ut,1,3,"i",7)(2,jt,3,2,"ng-container",10),f()),n&2){let e=d();u(e.cx("mask")),a("pBind",e.ptm("mask")),s(),a("ngIf",e.loadingIcon),s(),a("ngIf",!e.loadingIcon)}}function Gt(n,l){n&1&&P(0)}function Zt(n,l){n&1&&P(0)}function Yt(n,l){if(n&1&&p(0,Zt,1,0,"ng-container",14),n&2){let e=d();a("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",A(2,et,e.filterOptions))}}function Jt(n,l){if(n&1&&(F(),N(0,"svg",19)),n&2){let e=d(3);u(e.cx("filterIcon")),a("pBind",e.ptm("filterIcon"))}}function Xt(n,l){}function en(n,l){n&1&&p(0,Xt,0,0,"ng-template")}function tn(n,l){if(n&1&&(h(0,"span",11),p(1,en,1,0,null,8),f()),n&2){let e=d(3);u(e.cx("filterIcon")),a("pBind",e.ptm("filterIcon")),s(),a("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function nn(n,l){if(n&1){let e=L();h(0,"p-iconfield",16)(1,"input",17,0),D("keydown.enter",function(i){return m(e),_(i.preventDefault())})("input",function(i){m(e);let o=d(2);return _(o._filter(i.target==null?null:i.target.value))}),f(),h(3,"p-inputicon",16),p(4,Jt,1,3,"svg",18)(5,tn,2,4,"span",7),f()()}if(n&2){let e=d(2);u(e.cx("pcFilterContainer")),a("pt",e.ptm("pcFilterContainer"))("unstyled",e.unstyled()),s(),u(e.cx("pcFilterInput")),a("pAutoFocus",e.filterInputAutoFocus)("pt",e.ptm("pcFilterInput"))("unstyled",e.unstyled()),S("placeholder",e.filterPlaceholder),s(2),a("pt",e.ptm("pcFilterIconContainer"))("unstyled",e.unstyled()),s(),a("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),s(),a("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function on(n,l){if(n&1&&p(0,nn,6,14,"p-iconfield",15),n&2){let e=d();a("ngIf",e.filter)}}function rn(n,l){if(n&1&&N(0,"p-treeNode",25,3),n&2){let e=l.$implicit,t=l.first,i=l.last,o=l.index,r=d(2).options,c=d(3);a("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",t)("lastChild",i)("index",c.getIndex(r,o))("itemSize",r.itemSize)("indentation",c.indentation)("loadingMode",c.loadingMode)("pt",c.pt)("unstyled",c.unstyled())}}function ln(n,l){if(n&1&&(h(0,"ul",23,2),p(2,rn,2,12,"p-treeNode",24),f()),n&2){let e=d(),t=e.$implicit,i=e.options,o=d(3);K(i.contentStyle),u(o.cx("rootChildren")),a("ngClass",i.contentStyleClass)("pBind",o.ptm("rootChildren")),S("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy),s(2),a("ngForOf",t)("ngForTrackBy",o.trackBy)}}function an(n,l){if(n&1&&p(0,ln,3,10,"ul",22),n&2){let e=l.$implicit;a("ngIf",e)}}function dn(n,l){n&1&&P(0)}function sn(n,l){if(n&1&&p(0,dn,1,0,"ng-container",14),n&2){let e=l.options,t=d(4);a("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",A(2,Ht,e))}}function cn(n,l){n&1&&(C(0),p(1,sn,1,4,"ng-template",null,4,H),k())}function pn(n,l){if(n&1){let e=L();h(0,"p-scroller",21,1),D("onScroll",function(i){m(e);let o=d(2);return _(o.onScroll.emit(i))})("onScrollIndexChange",function(i){m(e);let o=d(2);return _(o.onScrollIndexChange.emit(i))})("onLazyLoad",function(i){m(e);let o=d(2);return _(o.onLazyLoad.emit(i))}),p(2,an,1,1,"ng-template",null,2,H)(4,cn,3,0,"ng-container",10),f()}if(n&2){let e=d(2);K(A(12,Xe,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),a("items",e.serializedValue)("tabindex",-1)("styleClass",e.cx("wrapper"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize)("lazy",e.lazy)("options",e.virtualScrollOptions)("pt",e.ptm("virtualScroller")),S("data-p",e.wrapperDataP),s(4),a("ngIf",e.loaderTemplate||e._loaderTemplate)}}function gn(n,l){if(n&1&&N(0,"p-treeNode",29),n&2){let e=l.$implicit,t=l.first,i=l.last,o=l.index,r=d(4);a("node",e)("firstChild",t)("lastChild",i)("index",o)("level",0)("loadingMode",r.loadingMode)("pt",r.pt)("unstyled",r.unstyled())}}function un(n,l){if(n&1&&(h(0,"ul",27,2),p(2,gn,1,8,"p-treeNode",28),f()),n&2){let e=d(3);u(e.cx("rootChildren")),a("pBind",e.ptm("rootChildren")),S("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),s(2),a("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy.bind(e))}}function hn(n,l){if(n&1&&(C(0),h(1,"div",11,5),p(3,un,3,7,"ul",26),f(),k()),n&2){let e=d(2);s(),u(e.cx("wrapper")),X("max-height",e.scrollHeight),a("pBind",e.ptm("wrapper")),S("data-p",e.wrapperDataP),s(2),a("ngIf",e.getRootNode())}}function fn(n,l){if(n&1&&(C(0),p(1,pn,5,14,"p-scroller",20)(2,hn,4,7,"ng-container",10),k()),n&2){let e=d();s(),a("ngIf",e.virtualScroll),s(),a("ngIf",!e.virtualScroll)}}function mn(n,l){if(n&1&&(C(0),ee(1),k()),n&2){let e=d(2);s(),Ne(" ",e.emptyMessageLabel," ")}}function _n(n,l){}function yn(n,l){n&1&&p(0,_n,0,0,"ng-template",null,6,H)}function xn(n,l){if(n&1&&(h(0,"div",11),p(1,mn,2,1,"ng-container",30)(2,yn,2,0,null,8),f()),n&2){let e=d();u(e.cx("emptyMessage")),a("pBind",e.ptm("emptyMessage")),s(),a("ngIf",!e.emptyTemplate&&!e._emptyTemplate)("ngIfElse",e.emptyFilter),s(),a("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function bn(n,l){n&1&&P(0)}var Nn={root:({instance:n})=>["p-tree p-component",{"p-tree-selectable":n.selectionMode!=null,"p-tree-loading":n.loading,"p-tree-flex-scrollable":n.scrollHeight==="flex","p-tree-node-dragover":n.dragHover}],mask:"p-tree-mask p-overlay-mask",loadingIcon:"p-tree-loading-icon",pcFilterInput:"p-tree-filter-input",wrapper:"p-tree-root",rootChildren:"p-tree-root-children",node:({instance:n})=>({"p-tree-node":!0,"p-tree-node-leaf":n.isLeaf()}),nodeContent:({instance:n})=>({"p-tree-node-content":!0,"p-tree-node-selectable":n.selectable,"p-tree-node-dragover":n.isNodeDropActive(),"p-tree-node-selected":n.selectionMode==="checkbox"&&n.tree.highlightOnSelect?n.checked:n.selected}),nodeToggleButton:"p-tree-node-toggle-button",nodeToggleIcon:"p-tree-node-toggle-icon",nodeCheckbox:"p-tree-node-checkbox",nodeIcon:"p-tree-node-icon",nodeLabel:"p-tree-node-label",nodeChildren:"p-tree-node-children",emptyMessage:"p-tree-empty-message",dropPoint:"p-tree-node-drop-point"},j=(()=>{class n extends Pe{name="tree";style=Ge;classes=Nn;static \u0275fac=(()=>{let e;return function(i){return(e||(e=Z(n)))(i||n)}})();static \u0275prov=q({token:n,factory:n.\u0275fac})}return n})();var Ye=new G("TREE_INSTANCE"),Je=new G("TREENODE_INSTANCE"),Tn=(()=>{class n extends ce{$pcTreeNode=M(Je,{optional:!0,skipSelf:!0})??void 0;static ICON_CLASS="p-tree-node-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree=M(ue(()=>tt));timeout;isPrevDropPointHovered=$(!1);isNextDropPointHovered=$(!1);isNodeDropHovered=$(!1);isPrevDropPointActive=E(()=>this.isPrevDropPointHovered()&&this.isDroppable());isNextDropPointActive=E(()=>this.isNextDropPointHovered()&&this.isDroppable());isNodeDropActive=E(()=>this.isNodeDropHovered()&&this.isNodeDroppable());dropPosition=E(()=>this.isPrevDropPointActive()?-1:this.isNextDropPointActive()?1:0);_componentStyle=M(j);_selected=E(()=>(this.tree.selection(),this.tree.isSelected(this.node)));_contextMenuSelected=E(()=>{let e=this.tree.contextMenuSelection();return!e||!this.node?!1:e===this.node||e.key&&e.key===this.node.key});get selected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this._selected():void 0}get checked(){return this.tree.selectionMode==="checkbox"?this._selected():void 0}get contextMenuSelected(){return this._contextMenuSelected()}get nodeClass(){return this.tree._componentStyle.classes.node({instance:this})}get selectable(){return this.node?.selectable===!1?!1:this.tree?.selectionMode!=null}get subNodes(){return this.node?.parent?this.node.parent.children:this.tree.value}getPTOptions(e){return this.ptm(e,{context:{node:this.node,index:this.index,expanded:this.node?.expanded,selected:this.selected,checked:this.checked,partialChecked:this.node?.partialSelected,contextMenuSelected:this.contextMenuSelected,leaf:this.isLeaf()}})}onInit(){this.node.parent=this.parentNode;let t=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!t&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,n.ICON_CLASS+" "+e+" p-tree-node-icon"}isLeaf(){return this.tree.isNodeLeaf(this.node)}isSelected(){return this._selected()}isContextMenuSelected(){return this._contextMenuSelected()}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}isDraggable(){return this.tree.draggableNodes}isDroppable(){return this.tree.droppableNodes&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)}isNodeDroppable(){return this.node?.droppable!==!1&&this.isDroppable()}isNodeDraggable(){return this.node?.draggable!==!1&&this.isDraggable()}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}onNodeDblClick(e){this.tree.onNodeDblClick(e,this.node)}insertNodeOnDrop(){let{dragNode:e,dragNodeIndex:t,dragNodeSubNodes:i}=this.tree;if(!this.node||t==null||!e||!i)return;let o=this.dropPosition(),r=this.subNodes||[],c=this.index||0,g=i===r?t>c?c:c-1:c;i.splice(t,1),o<0?r.splice(g,0,e):o>0?r.splice(g+1,0,e):(this.node.children=this.node.children||[],this.node.children.push(e)),this.tree.dragDropService.stopDrag({node:e,subNodes:r,index:t})}onNodeDrop(e){if(e.preventDefault(),e.stopPropagation(),this.isDroppable()){let{dragNode:t}=this.tree,i=this.dropPosition();(i!==0||i===0&&this.isNodeDroppable())&&(this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index,accept:()=>{this.insertNodeOnDrop()}}):(this.insertNodeOnDrop(),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index})))}this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1)}onNodeDragStart(e){if(this.isNodeDraggable()){e.dataTransfer.effectAllowed="all",e.dataTransfer?.setData("text","data");let t=e.currentTarget,i=t.cloneNode(!0),o=i.querySelector('[data-pc-section="nodetogglebutton"]'),r=i.querySelector('[data-pc-name="pcnodecheckbox"]');t.setAttribute("data-p-dragging","true"),i.style.width=ke(t)+"px",i.style.height=we(t)+"px",i.setAttribute("data-pc-section","drag-image"),o.style.visibility="hidden",r?.remove(),document.body.appendChild(i),e.dataTransfer?.setDragImage(i,0,0),setTimeout(()=>document.body.removeChild(i),0),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.subNodes,index:this.index,scope:this.tree.draggableScope})}else e.preventDefault()}onNodeDragOver(e){if(this.isDroppable()){e.dataTransfer.dropEffect="copy";let i=e.currentTarget.getBoundingClientRect(),o=e.clientY-parseInt(i.top);this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1),o<i.height*.25?this.isPrevDropPointHovered.set(!0):o>i.height*.75?this.isNextDropPointHovered.set(!0):this.isNodeDroppable()&&this.isNodeDropHovered.set(!0)}else e.dataTransfer.dropEffect="none";this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onNodeDragLeave(){this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1)}onNodeDragEnd(e){e.currentTarget?.removeAttribute("data-p-dragging"),this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.subNodes,index:this.index})}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(t?.previousElementSibling)this.focusRowChange(t,t.previousElementSibling,this.findLastVisibleDescendant(t.previousElementSibling));else{let i=this.getParentNodeElement(t);i&&this.focusRowChange(t,i)}e.preventDefault()}onArrowDown(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target,i=t?.children[1];if(i&&i.children.length>0)this.focusRowChange(t,i.children[0]);else if(t?.parentElement?.nextElementSibling)this.focusRowChange(t,t.parentElement.nextElementSibling);else{let o=this.findNextSiblingOfAncestor(t?.parentElement);o&&this.focusRowChange(t,o)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let i=this.getParentNodeElement(t?.parentElement);i&&this.focusRowChange(e.currentTarget,i),e.preventDefault()}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),e.preventDefault()}setAllNodesTabIndexes(){let e=ae(this.tree.el.nativeElement,'[data-pc-section="node"]'),t=[...e].some(i=>i.getAttribute("aria-selected")==="true"||i.getAttribute("aria-checked")==="true");if([...e].forEach(i=>{i.tabIndex=-1}),t){let i=[...e].filter(o=>o.getAttribute("aria-selected")==="true"||o.getAttribute("aria-checked")==="true");i[0].tabIndex=0;return}e.length&&([...e][0].tabIndex=0)}setTabIndexForSelectionMode(e,t){if(this.tree.selectionMode!==null){let i=[...ae(this.tree.el.nativeElement,'[role="treeitem"]')];e.currentTarget.tabIndex=t===!1?-1:0,i.every(o=>o.tabIndex===-1)&&(i[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let t=this.getParentNodeElement(e);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null}findLastVisibleDescendant(e){let i=Array.from(e.children).find(o=>o.getAttribute("data-pc-section")==="node")?.children[1];if(i&&i.children.length>0){let o=i.children[i.children.length-1];return this.findLastVisibleDescendant(o)}else return e}getParentNodeElement(e){let t=e.parentElement?.parentElement?.parentElement;return t?.tagName==="P-TREENODE"?t:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,t,i){e.tabIndex="-1",t.children[0].tabIndex="0",this.focusNode(i||t)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=Ie(this.tree?.contentViewChild?.nativeElement,`[data-id="${this.node?.key??this.node?.data}"]`);De(e)},1)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Z(n)))(i||n)}})();static \u0275cmp=Y({type:n,selectors:[["p-treeNode"]],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",b],index:[2,"index","index",z],firstChild:[2,"firstChild","firstChild",b],lastChild:[2,"lastChild","lastChild",b],level:[2,"level","level",z],indentation:[2,"indentation","indentation",z],itemSize:[2,"itemSize","itemSize",z],loadingMode:"loadingMode"},features:[te([j,{provide:Je,useExisting:n},{provide:se,useExisting:n}]),J],decls:1,vars:1,consts:[["icon",""],["role","treeitem",3,"class","ngStyle","style","pBind"],["role","treeitem",3,"keydown","ngStyle","pBind"],[3,"class","pBind"],[3,"click","contextmenu","dblclick","touchend","drop","dragstart","dragover","dragleave","dragend","draggable","pBind"],["type","button","pRipple","","tabindex","-1",3,"click","pBind"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","pt","click",4,"ngIf"],[3,"pBind"],["role","group",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-right",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-down",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-right",3,"pBind"],["data-p-icon","chevron-down",3,"pBind"],["data-p-icon","spinner","spin","",3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","pt"],["role","group",3,"pBind"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode","pt","unstyled"]],template:function(t,i){t&1&&O(0,Dt,13,38,"li",1),t&2&&B(i.node?0:-1)},dependencies:[n,le,ie,oe,re,Ce,He,We,ge,Ue,Qe,Oe,Ve,pe,U,Ae,V],encapsulation:2})}return n})(),tt=(()=>{class n extends ce{dragDropService;bindDirectiveInstance=M(V,{self:!0});$pcTree=M(Ye,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value;selectionMode;loadingMode="mask";selection=ne(null);styleClass;contextMenu;contextMenuSelectionMode="separate";contextMenuSelection=ne(null);draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterInputAutoFocus=!1;filterBy="label";filterMode="lenient";filterOptions;filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,t)=>t;highlightOnSelect=!1;onNodeSelect=new T;onNodeUnselect=new T;onNodeExpand=new T;onNodeCollapse=new T;onNodeContextMenuSelect=new T;onNodeDoubleClick=new T;onNodeDrop=new T;onLazyLoad=new T;onScroll=new T;onScrollIndexChange=new T;onFilter=new T;filterTemplate;nodeTemplate;headerTemplate;footerTemplate;loaderTemplate;emptyTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;filterViewChild;scroller;wrapperViewChild;contentViewChild;templates;_headerTemplate;_emptyTemplate;_footerTemplate;_loaderTemplate;_togglerIconTemplate;_checkboxIconTemplate;_loadingIconTemplate;_filterIconTemplate;_filterTemplate;onAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"togglericon":this._togglerIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}serializedValue;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;_componentStyle=M(j);handleDropEvent(e){this.onDrop(e)}handleDragOverEvent(e){this.onDragOver(e)}handleDragEnterEvent(){this.onDragEnter()}handleDragLeaveEvent(e){this.onDragLeave(e)}constructor(e){super(),this.dragDropService=e}onInit(){this.filterBy&&(this.filterOptions={filter:e=>this._filter(e),reset:()=>this.resetFilter()}),this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}onChanges(e){e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild?.nativeElement?.value))}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ze.EMPTY_MESSAGE)}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,t,i,o){if(t&&t.length)for(let r of t){r.parent=e;let c={node:r,parent:e,level:i,visible:o&&(e?e.expanded:!0)};this.serializedValue.push(c),c.visible&&r.expanded&&this.serializeNodes(r,r.children,i+1,c.visible)}}onNodeClick(e,t){let o=e.target?.getAttribute?.("data-pc-section");if(!(o==="nodetogglebutton"||o==="nodetoggleicon")){if(this.selectionMode){if(t.selectable===!1){t.style="--p-focus-ring-color: none;";return}else t.style?.includes("--p-focus-ring-color")||(t.style=t.style?`${t.style}--p-focus-ring-color: var(--primary-color)`:"--p-focus-ring-color: var(--primary-color)");if(this.hasFilteredNodes()&&(t=this.getNodeWithKey(t.key,this.filteredNodes),!t))return;let r=this.findIndexInSelection(t),c=r>=0,g=this.selection();if(this.isCheckboxSelectionMode())c?(this.propagateSelectionDown?this.propagateDown(t,!1):this.selection.set(g.filter((I,w)=>w!=r)),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!1),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown?this.propagateDown(t,!0):this.selection.set([...g||[],t]),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!0),this.onNodeSelect.emit({originalEvent:e,node:t}));else if(this.nodeTouched?!1:this.metaKeySelection){let w=e.metaKey||e.ctrlKey;if(c&&w)this.isSingleSelectionMode()?this.selection.set(null):this.selection.set(g.filter((Q,it)=>it!=r)),this.onNodeUnselect.emit({originalEvent:e,node:t});else{if(this.isSingleSelectionMode())this.selection.set(t);else if(this.isMultipleSelectionMode()){let Q=w?g||[]:[];this.selection.set([...Q,t])}this.onNodeSelect.emit({originalEvent:e,node:t})}}else this.isSingleSelectionMode()?c?(this.selection.set(null),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection.set(t),setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})})):c?(this.selection.set(g.filter((w,Q)=>Q!=r)),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection.set([...g||[],t]),setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})}))}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,t){if(this.contextMenu){let o=e.target.getAttribute("data-pc-section");if(o==="nodetogglebutton"||o==="nodetoggleicon")return;let c=this.findIndexInSelection(t)>=0,g=()=>{this.contextMenu.show(e),this.contextMenu.hideCallback=()=>{this.contextMenuSelection.set(null)},this.onNodeContextMenuSelect.emit({originalEvent:e,node:t})};this.contextMenuSelectionMode==="separate"?(this.contextMenuSelection.set(t),g()):this.contextMenuSelectionMode==="joint"&&(c||(this.isSingleSelectionMode()?this.selection.set(t):this.selection.set([t])),g())}}onNodeDblClick(e,t){this.onNodeDoubleClick.emit({originalEvent:e,node:t})}findIndexInSelection(e){let t=-1,i=this.selection();if(this.selectionMode&&i)if(this.isSingleSelectionMode()){let o=i;t=o.key&&o.key===e.key||o==e?0:-1}else{let o=i;for(let r=0;r<o.length;r++){let c=o[r];if(c.key&&c.key===e.key||c==e){t=r;break}}}return t}syncNodeOption(e,t,i,o){let r=this.hasFilteredNodes()?this.getNodeWithKey(e.key,t):null;r&&(r[i]=o||e[i])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,t){for(let i of t){if(i.key===e)return i;if(i.children){let o=this.getNodeWithKey(e,i.children);if(o)return o}}}propagateUp(e,t){if(e.children&&e.children.length){let o=0,r=!1;for(let g of e.children)this.isSelected(g)?o++:g.partialSelected&&(r=!0);let c=this.selection()||[];if(t&&o==e.children.length)this.selection.set([...c,e]),e.partialSelected=!1;else{if(!t){let g=this.findIndexInSelection(e);g>=0&&this.selection.set(c.filter((I,w)=>w!=g))}r||o>0&&o!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let i=e.parent;i&&this.propagateUp(i,t)}propagateDown(e,t){let i=this.findIndexInSelection(e),o=this.selection()||[];if(t&&i==-1?this.selection.set([...o,e]):!t&&i>-1&&this.selection.set(o.filter((r,c)=>c!=i)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let r of e.children)this.propagateDown(r,t)}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(e.dataTransfer.dropEffect="copy",e.preventDefault())}onDrop(e){if(this.droppableNodes){e.preventDefault();let t=this.dragNode;if(this.isSameTreeScope(this.dragNodeScope))return;if(this.allowDrop(t,null,this.dragNodeScope)){let i=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:i,accept:()=>{this.processTreeDrop(t,i)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:i}),this.processTreeDrop(t,i))}}}processTreeDrop(e,t){this.dragNodeSubNodes.splice(t,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let t=e.currentTarget.getBoundingClientRect();(e.x>parseInt(t.left)+t.width||e.x<parseInt(t.left)||e.y>parseInt(t.top)+t.height||e.y<parseInt(t.top))&&(this.dragHover=!1)}}allowDrop(e,t,i){if(e)if(this.isValidDragScope(i)){let o=!0;if(t)if(e===t)o=!1;else{let r=t.parent;for(;r!=null;){if(r===e){o=!1;break}r=r.parent}}return o}else return!1;else return!1}hasCommonScope(e,t){if(typeof t=="string"){if(typeof e=="string")return t===e;if(Array.isArray(e))return e.indexOf(t)!=-1}else if(Array.isArray(t)){if(typeof e=="string")return t.indexOf(e)!=-1;if(Array.isArray(e)){for(let i of t)for(let o of e)if(i===o)return!0}}return!1}isSameTreeScope(e){return this.hasCommonScope(e,this.draggableScope)}isValidDragScope(e){let t=this.droppableScope;return t?this.hasCommonScope(e,t):!0}_filter(e){let t=e;if(t==="")this.filteredNodes=null;else{this.filteredNodes=[];let i=this.filterBy.split(","),o=de(t).toLocaleLowerCase(this.filterLocale),r=this.filterMode==="strict";for(let c of this.value){let g=W({},c),I={searchFields:i,filterText:o,isStrictMode:r};(r&&(this.findFilteredNodes(g,I)||this.isFilterMatched(g,I))||!r&&(this.isFilterMatched(g,I)||this.findFilteredNodes(g,I)))&&this.filteredNodes.push(g)}}this.updateSerializedValue(),this.onFilter.emit({filter:t,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,t){if(e){let i=!1;if(e.children){let o=[...e.children];e.children=[];for(let r of o){let c=W({},r);this.isFilterMatched(c,t)&&(i=!0,e.children.push(c))}}if(i)return e.expanded=!0,!0}}isFilterMatched(e,t){let{searchFields:i,filterText:o,isStrictMode:r}=t,c=!1;for(let g of i)de(String(Me(e,g))).toLocaleLowerCase(this.filterLocale).indexOf(o)>-1&&(c=!0);return(!c||r&&!this.isNodeLeaf(e))&&(c=this.findFilteredNodes(e,{searchFields:i,filterText:o,isStrictMode:r})||c),c}getIndex(e,t){let i=e.getItemOptions;return i?i(t).index:t}getBlockableElement(){return this.el.nativeElement.children[0]}onDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}get containerDataP(){return this.cn({loading:this.loading,scrollable:this.scrollHeight==="flex"})}get wrapperDataP(){return this.cn({scrollable:this.scrollHeight==="flex"})}static \u0275fac=function(t){return new(t||n)(fe(Fe,8))};static \u0275cmp=Y({type:n,selectors:[["p-tree"]],contentQueries:function(t,i,o){if(t&1&&(v(o,Ze,4),v(o,wt,4),v(o,Mt,4),v(o,Et,4),v(o,zt,4),v(o,Ft,4),v(o,Pt,4),v(o,At,4),v(o,Vt,4),v(o,Ot,4),v(o,Ee,4)),t&2){let r;y(r=x())&&(i.filterTemplate=r.first),y(r=x())&&(i.nodeTemplate=r.first),y(r=x())&&(i.headerTemplate=r.first),y(r=x())&&(i.footerTemplate=r.first),y(r=x())&&(i.loaderTemplate=r.first),y(r=x())&&(i.emptyTemplate=r.first),y(r=x())&&(i.togglerIconTemplate=r.first),y(r=x())&&(i.checkboxIconTemplate=r.first),y(r=x())&&(i.loadingIconTemplate=r.first),y(r=x())&&(i.filterIconTemplate=r.first),y(r=x())&&(i.templates=r)}},viewQuery:function(t,i){if(t&1&&(R(Ze,5),R(Bt,5),R(Lt,5),R(Rt,5)),t&2){let o;y(o=x())&&(i.filterViewChild=o.first),y(o=x())&&(i.scroller=o.first),y(o=x())&&(i.wrapperViewChild=o.first),y(o=x())&&(i.contentViewChild=o.first)}},hostVars:3,hostBindings:function(t,i){t&1&&D("drop",function(r){return i.handleDropEvent(r)})("dragover",function(r){return i.handleDragOverEvent(r)})("dragenter",function(){return i.handleDragEnterEvent()})("dragleave",function(r){return i.handleDragLeaveEvent(r)}),t&2&&(S("data-p",i.containerDataP),u(i.cn(i.cx("root"),i.styleClass)))},inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:[1,"selection"],styleClass:"styleClass",contextMenu:"contextMenu",contextMenuSelectionMode:"contextMenuSelectionMode",contextMenuSelection:[1,"contextMenuSelection"],draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",b],droppableNodes:[2,"droppableNodes","droppableNodes",b],metaKeySelection:[2,"metaKeySelection","metaKeySelection",b],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",b],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",b],loading:[2,"loading","loading",b],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",b],filter:[2,"filter","filter",b],filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",b],filterBy:"filterBy",filterMode:"filterMode",filterOptions:"filterOptions",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",b],virtualScroll:[2,"virtualScroll","virtualScroll",b],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",z],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",z],_templateMap:"_templateMap",trackBy:"trackBy",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",b]},outputs:{selection:"selectionChange",contextMenuSelection:"contextMenuSelectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDoubleClick:"onNodeDoubleClick",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[te([j,{provide:Ye,useExisting:n},{provide:se,useExisting:n}]),_e([V]),J],decls:7,vars:6,consts:[["filter",""],["scroller",""],["content",""],["treeNode",""],["loader",""],["wrapper",""],["emptyFilter",""],[3,"class","pBind",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"class","pt","unstyled"],[4,"ngIf"],[3,"pBind"],["data-p-icon","spinner","spin","",3,"class","pBind",4,"ngIf"],["data-p-icon","spinner","spin","",3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","pt","unstyled",4,"ngIf"],[3,"pt","unstyled"],["pInputText","","type","search","autocomplete","off",3,"keydown.enter","input","pAutoFocus","pt","unstyled"],["data-p-icon","search",3,"class","pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],["hostName","tree",3,"items","tabindex","styleClass","style","scrollHeight","itemSize","lazy","options","pt","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["hostName","tree",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","styleClass","scrollHeight","itemSize","lazy","options","pt"],["role","tree",3,"class","ngClass","style","pBind",4,"ngIf"],["role","tree",3,"ngClass","pBind"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode","pt","unstyled"],["role","tree",3,"class","pBind",4,"ngIf"],["role","tree",3,"pBind"],[3,"node","firstChild","lastChild","index","level","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode","pt","unstyled"],[4,"ngIf","ngIfElse"]],template:function(t,i){if(t&1&&(p(0,Wt,3,5,"div",7)(1,Gt,1,0,"ng-container",8),O(2,Yt,1,4,"ng-container")(3,on,1,1,"p-iconfield",9),p(4,fn,3,2,"ng-container",10)(5,xn,3,6,"div",7)(6,bn,1,0,"ng-container",8)),t&2){let o;a("ngIf",i.loading&&i.loadingMode==="mask"),s(),a("ngTemplateOutlet",i.headerTemplate||i._headerTemplate),s(),B(i.filterTemplate||i._filterTemplate?2:3),s(2),a("ngIf",(o=i.getRootNode())==null?null:o.length),s(),a("ngIf",!i.loading&&(i.getRootNode()==null||i.getRootNode().length===0)),s(),a("ngTemplateOutlet",i.footerTemplate||i._footerTemplate)}},dependencies:[le,Se,ie,oe,re,je,U,Be,pe,qe,ge,$e,Ke,Tn,Re,Le,V],encapsulation:2,changeDetection:0})}return n})(),oi=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=me({type:n});static \u0275inj=he({imports:[tt,U,U]})}return n})();var nt=class n{getTreeNodesData(){return[{key:"0",label:"Documents",data:"Documents Folder",icon:"pi pi-fw pi-inbox",children:[{key:"0-0",label:"Work",data:"Work Folder",icon:"pi pi-fw pi-cog",children:[{key:"0-0-0",label:"Expenses.doc",icon:"pi pi-fw pi-file",data:"Expenses Document"},{key:"0-0-1",label:"Resume.doc",icon:"pi pi-fw pi-file",data:"Resume Document"}]},{key:"0-1",label:"Home",data:"Home Folder",icon:"pi pi-fw pi-home",children:[{key:"0-1-0",label:"Invoices.txt",icon:"pi pi-fw pi-file",data:"Invoices for this month"}]}]},{key:"1",label:"Events",data:"Events Folder",icon:"pi pi-fw pi-calendar",children:[{key:"1-0",label:"Meeting",icon:"pi pi-fw pi-calendar-plus",data:"Meeting"},{key:"1-1",label:"Product Launch",icon:"pi pi-fw pi-calendar-plus",data:"Product Launch"},{key:"1-2",label:"Report Review",icon:"pi pi-fw pi-calendar-plus",data:"Report Review"}]},{key:"2",label:"Movies",data:"Movies Folder",icon:"pi pi-fw pi-star-fill",children:[{key:"2-0",icon:"pi pi-fw pi-star-fill",label:"Al Pacino",data:"Pacino Movies",children:[{key:"2-0-0",label:"Scarface",icon:"pi pi-fw pi-video",data:"Scarface Movie"},{key:"2-0-1",label:"Serpico",icon:"pi pi-fw pi-video",data:"Serpico Movie"}]},{key:"2-1",label:"Robert De Niro",icon:"pi pi-fw pi-star-fill",data:"De Niro Movies",children:[{key:"2-1-0",label:"Goodfellas",icon:"pi pi-fw pi-video",data:"Goodfellas Movie"},{key:"2-1-1",label:"Untouchables",icon:"pi pi-fw pi-video",data:"Untouchables Movie"}]}]}]}getTreeTableNodesData(){return[{key:"0",data:{name:"Applications",size:"100kb",type:"Folder"},children:[{key:"0-0",data:{name:"Angular",size:"25kb",type:"Folder"},children:[{key:"0-0-0",data:{name:"angular.app",size:"10kb",type:"Application"}},{key:"0-0-1",data:{name:"native.app",size:"10kb",type:"Application"}},{key:"0-0-2",data:{name:"mobile.app",size:"5kb",type:"Application"}}]},{key:"0-1",data:{name:"editor.app",size:"25kb",type:"Application"}},{key:"0-2",data:{name:"settings.app",size:"50kb",type:"Application"}}]},{key:"1",data:{name:"Cloud",size:"20kb",type:"Folder"},children:[{key:"1-0",data:{name:"backup-1.zip",size:"10kb",type:"Zip"}},{key:"1-1",data:{name:"backup-2.zip",size:"10kb",type:"Zip"}}]},{key:"2",data:{name:"Desktop",size:"150kb",type:"Folder"},children:[{key:"2-0",data:{name:"note-meeting.txt",size:"50kb",type:"Text"}},{key:"2-1",data:{name:"note-todo.txt",size:"100kb",type:"Text"}}]},{key:"3",data:{name:"Documents",size:"75kb",type:"Folder"},children:[{key:"3-0",data:{name:"Work",size:"55kb",type:"Folder"},children:[{key:"3-0-0",data:{name:"Expenses.doc",size:"30kb",type:"Document"}},{key:"3-0-1",data:{name:"Resume.doc",size:"25kb",type:"Resume"}}]},{key:"3-1",data:{name:"Home",size:"20kb",type:"Folder"},children:[{key:"3-1-0",data:{name:"Invoices",size:"20kb",type:"Text"}}]}]},{key:"4",data:{name:"Downloads",size:"25kb",type:"Folder"},children:[{key:"4-0",data:{name:"Spanish",size:"10kb",type:"Folder"},children:[{key:"4-0-0",data:{name:"tutorial-a1.txt",size:"5kb",type:"Text"}},{key:"4-0-1",data:{name:"tutorial-a2.txt",size:"5kb",type:"Text"}}]},{key:"4-1",data:{name:"Travel",size:"15kb",type:"Text"},children:[{key:"4-1-0",data:{name:"Hotel.pdf",size:"10kb",type:"PDF"}},{key:"4-1-1",data:{name:"Flight.pdf",size:"5kb",type:"PDF"}}]}]},{key:"5",data:{name:"Main",size:"50kb",type:"Folder"},children:[{key:"5-0",data:{name:"bin",size:"50kb",type:"Link"}},{key:"5-1",data:{name:"etc",size:"100kb",type:"Link"}},{key:"5-2",data:{name:"var",size:"100kb",type:"Link"}}]},{key:"6",data:{name:"Other",size:"5kb",type:"Folder"},children:[{key:"6-0",data:{name:"todo.txt",size:"3kb",type:"Text"}},{key:"6-1",data:{name:"logo.png",size:"2kb",type:"Picture"}}]},{key:"7",data:{name:"Pictures",size:"150kb",type:"Folder"},children:[{key:"7-0",data:{name:"barcelona.jpg",size:"90kb",type:"Picture"}},{key:"7-1",data:{name:"primeng.png",size:"30kb",type:"Picture"}},{key:"7-2",data:{name:"prime.jpg",size:"30kb",type:"Picture"}}]},{key:"8",data:{name:"Videos",size:"1500kb",type:"Folder"},children:[{key:"8-0",data:{name:"primefaces.mkv",size:"1000kb",type:"Video"}},{key:"8-1",data:{name:"intro.avi",size:"500kb",type:"Video"}}]}]}getLazyNodesData(){return[{label:"Lazy Node 0",data:"Node 0",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1},{label:"Lazy Node 1",data:"Node 1",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1},{label:"Lazy Node 1",data:"Node 2",expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1}]}getFileSystemNodesData(){return[{data:{name:"Applications",size:"200mb",type:"Folder"},children:[{data:{name:"Angular",size:"25mb",type:"Folder"},children:[{data:{name:"angular.app",size:"10mb",type:"Application"}},{data:{name:"cli.app",size:"10mb",type:"Application"}},{data:{name:"mobile.app",size:"5mb",type:"Application"}}]},{data:{name:"editor.app",size:"25mb",type:"Application"}},{data:{name:"settings.app",size:"50mb",type:"Application"}}]},{data:{name:"Cloud",size:"20mb",type:"Folder"},children:[{data:{name:"backup-1.zip",size:"10mb",type:"Zip"}},{data:{name:"backup-2.zip",size:"10mb",type:"Zip"}}]},{data:{name:"Desktop",size:"150kb",type:"Folder"},children:[{data:{name:"note-meeting.txt",size:"50kb",type:"Text"}},{data:{name:"note-todo.txt",size:"100kb",type:"Text"}}]},{data:{name:"Documents",size:"75kb",type:"Folder"},children:[{data:{name:"Work",size:"55kb",type:"Folder"},children:[{data:{name:"Expenses.doc",size:"30kb",type:"Document"}},{data:{name:"Resume.doc",size:"25kb",type:"Resume"}}]},{data:{name:"Home",size:"20kb",type:"Folder"},children:[{data:{name:"Invoices",size:"20kb",type:"Text"}}]}]},{data:{name:"Downloads",size:"25mb",type:"Folder"},children:[{data:{name:"Spanish",size:"10mb",type:"Folder"},children:[{data:{name:"tutorial-a1.txt",size:"5mb",type:"Text"}},{data:{name:"tutorial-a2.txt",size:"5mb",type:"Text"}}]},{data:{name:"Travel",size:"15mb",type:"Text"},children:[{data:{name:"Hotel.pdf",size:"10mb",type:"PDF"}},{data:{name:"Flight.pdf",size:"5mb",type:"PDF"}}]}]},{data:{name:"Main",size:"50mb",type:"Folder"},children:[{data:{name:"bin",size:"50kb",type:"Link"}},{data:{name:"etc",size:"100kb",type:"Link"}},{data:{name:"var",size:"100kb",type:"Link"}}]},{data:{name:"Other",size:"5mb",type:"Folder"},children:[{data:{name:"todo.txt",size:"3mb",type:"Text"}},{data:{name:"logo.png",size:"2mb",type:"Picture"}}]},{data:{name:"Pictures",size:"150kb",type:"Folder"},children:[{data:{name:"barcelona.jpg",size:"90kb",type:"Picture"}},{data:{name:"primeng.png",size:"30kb",type:"Picture"}},{data:{name:"prime.jpg",size:"30kb",type:"Picture"}}]},{data:{name:"Videos",size:"1500mb",type:"Folder"},children:[{data:{name:"primefaces.mkv",size:"1000mb",type:"Video"}},{data:{name:"intro.avi",size:"500mb",type:"Video"}}]}]}getDynamicTreeNodes(l,e){let t=[];for(let i=0;i<l;i++){let o=[];for(let r=0;r<e;r++)o.push({key:`${i}-${r}`,label:`Child ${i}-${r}`,selectable:!0});t.push({key:i.toString(),label:`Parent ${i}`,selectable:!0,children:o})}return t}getLargeTreeNodes(){return Promise.resolve(this.getDynamicTreeNodes(10,100))}getTreeTableNodes(){return Promise.resolve(this.getTreeTableNodesData())}getTreeNodes(){return Promise.resolve(this.getTreeNodesData())}getFiles(){return Promise.resolve(this.getTreeNodesData())}getLazyFiles(){return Promise.resolve(this.getLazyNodesData())}getFilesystem(){return Promise.resolve(this.getFileSystemNodesData())}static \u0275fac=function(e){return new(e||n)};static \u0275prov=q({token:n,factory:n.\u0275fac})};export{tt as a,oi as b,nt as c};
